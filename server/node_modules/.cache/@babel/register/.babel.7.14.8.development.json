{
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/cli/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/cli/bin.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/bin.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/cli/bin.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/bin.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/",
        "sourceFileName": "bin.js"
      }
    },
    "ast": null,
    "code": "#!/usr/bin/env node\n\nrequire('please-upgrade-node')(require('../../package.json'));\n\nrequire('./')();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJpbi5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBTyxDQUFDLHFCQUFELENBQVAsQ0FBK0JBLE9BQU8sQ0FBQyxvQkFBRCxDQUF0Qzs7QUFDQUEsT0FBTyxDQUFDLElBQUQsQ0FBUCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFyaW5hbWFyaW5hL0Rlc2t0b3AvdGVzdGluZy9zZXJ2ZXIvc3JjL2NsaS8iLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5yZXF1aXJlKCdwbGVhc2UtdXBncmFkZS1ub2RlJykocmVxdWlyZSgnLi4vLi4vcGFja2FnZS5qc29uJykpXG5yZXF1aXJlKCcuLycpKClcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "bin.js"
      ],
      "names": [
        "require"
      ],
      "mappings": "AAAA;;AACAA,OAAO,CAAC,qBAAD,CAAP,CAA+BA,OAAO,CAAC,oBAAD,CAAtC;;AACAA,OAAO,CAAC,IAAD,CAAP",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/",
      "sourcesContent": [
        "#!/usr/bin/env node\nrequire('please-upgrade-node')(require('../../package.json'))\nrequire('./')()\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/cli/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/cli/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/cli/index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "const updateNotifier = require('update-notifier');\n\nconst yargs = require('yargs');\n\nconst run = require('./run');\n\nconst pkg = require('../../package.json');\n\nmodule.exports = function () {\n  updateNotifier({\n    pkg\n  }).notify();\n\n  const argv = yargs.config('config').usage('$0 [options] <source>').options({\n    port: {\n      alias: 'p',\n      description: 'Set port',\n      default: 3000\n    },\n    host: {\n      alias: 'H',\n      description: 'Set host',\n      default: 'localhost'\n    },\n    watch: {\n      alias: 'w',\n      description: 'Watch file(s)'\n    },\n    routes: {\n      alias: 'r',\n      description: 'Path to routes file'\n    },\n    middlewares: {\n      alias: 'm',\n      array: true,\n      description: 'Paths to middleware files'\n    },\n    static: {\n      alias: 's',\n      description: 'Set static files directory'\n    },\n    'read-only': {\n      alias: 'ro',\n      description: 'Allow only GET requests'\n    },\n    'no-cors': {\n      alias: 'nc',\n      description: 'Disable Cross-Origin Resource Sharing'\n    },\n    'no-gzip': {\n      alias: 'ng',\n      description: 'Disable GZIP Content-Encoding'\n    },\n    snapshots: {\n      alias: 'S',\n      description: 'Set snapshots directory',\n      default: '.'\n    },\n    delay: {\n      alias: 'd',\n      description: 'Add delay to responses (ms)'\n    },\n    id: {\n      alias: 'i',\n      description: 'Set database id property (e.g. _id)',\n      default: 'id'\n    },\n    foreignKeySuffix: {\n      alias: 'fks',\n      description: 'Set foreign key suffix (e.g. _id as in post_id)',\n      default: 'Id'\n    },\n    quiet: {\n      alias: 'q',\n      description: 'Suppress log messages from output'\n    },\n    config: {\n      alias: 'c',\n      description: 'Path to config file',\n      default: 'json-server.json'\n    }\n  }).boolean('watch').boolean('read-only').boolean('quiet').boolean('no-cors').boolean('no-gzip').help('help').alias('help', 'h').version(pkg.version).alias('version', 'v').example('$0 db.json', '').example('$0 file.js', '').example('$0 http://example.com/db.json', '').epilog('https://github.com/typicode/json-server').require(1, 'Missing <source> argument').argv;\n\n  run(argv);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInVwZGF0ZU5vdGlmaWVyIiwicmVxdWlyZSIsInlhcmdzIiwicnVuIiwicGtnIiwibW9kdWxlIiwiZXhwb3J0cyIsIm5vdGlmeSIsImFyZ3YiLCJjb25maWciLCJ1c2FnZSIsIm9wdGlvbnMiLCJwb3J0IiwiYWxpYXMiLCJkZXNjcmlwdGlvbiIsImRlZmF1bHQiLCJob3N0Iiwid2F0Y2giLCJyb3V0ZXMiLCJtaWRkbGV3YXJlcyIsImFycmF5Iiwic3RhdGljIiwic25hcHNob3RzIiwiZGVsYXkiLCJpZCIsImZvcmVpZ25LZXlTdWZmaXgiLCJxdWlldCIsImJvb2xlYW4iLCJoZWxwIiwidmVyc2lvbiIsImV4YW1wbGUiLCJlcGlsb2ciXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLGNBQWMsR0FBR0MsT0FBTyxDQUFDLGlCQUFELENBQTlCOztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBQ0EsTUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFDQSxNQUFNRyxHQUFHLEdBQUdILE9BQU8sQ0FBQyxvQkFBRCxDQUFuQjs7QUFFQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFlBQVk7QUFDM0JOLEVBQUFBLGNBQWMsQ0FBQztBQUFFSSxJQUFBQTtBQUFGLEdBQUQsQ0FBZCxDQUF3QkcsTUFBeEI7O0FBRUEsUUFBTUMsSUFBSSxHQUFHTixLQUFLLENBQ2ZPLE1BRFUsQ0FDSCxRQURHLEVBRVZDLEtBRlUsQ0FFSix1QkFGSSxFQUdWQyxPQUhVLENBR0Y7QUFDUEMsSUFBQUEsSUFBSSxFQUFFO0FBQ0pDLE1BQUFBLEtBQUssRUFBRSxHQURIO0FBRUpDLE1BQUFBLFdBQVcsRUFBRSxVQUZUO0FBR0pDLE1BQUFBLE9BQU8sRUFBRTtBQUhMLEtBREM7QUFNUEMsSUFBQUEsSUFBSSxFQUFFO0FBQ0pILE1BQUFBLEtBQUssRUFBRSxHQURIO0FBRUpDLE1BQUFBLFdBQVcsRUFBRSxVQUZUO0FBR0pDLE1BQUFBLE9BQU8sRUFBRTtBQUhMLEtBTkM7QUFXUEUsSUFBQUEsS0FBSyxFQUFFO0FBQ0xKLE1BQUFBLEtBQUssRUFBRSxHQURGO0FBRUxDLE1BQUFBLFdBQVcsRUFBRTtBQUZSLEtBWEE7QUFlUEksSUFBQUEsTUFBTSxFQUFFO0FBQ05MLE1BQUFBLEtBQUssRUFBRSxHQUREO0FBRU5DLE1BQUFBLFdBQVcsRUFBRTtBQUZQLEtBZkQ7QUFtQlBLLElBQUFBLFdBQVcsRUFBRTtBQUNYTixNQUFBQSxLQUFLLEVBQUUsR0FESTtBQUVYTyxNQUFBQSxLQUFLLEVBQUUsSUFGSTtBQUdYTixNQUFBQSxXQUFXLEVBQUU7QUFIRixLQW5CTjtBQXdCUE8sSUFBQUEsTUFBTSxFQUFFO0FBQ05SLE1BQUFBLEtBQUssRUFBRSxHQUREO0FBRU5DLE1BQUFBLFdBQVcsRUFBRTtBQUZQLEtBeEJEO0FBNEJQLGlCQUFhO0FBQ1hELE1BQUFBLEtBQUssRUFBRSxJQURJO0FBRVhDLE1BQUFBLFdBQVcsRUFBRTtBQUZGLEtBNUJOO0FBZ0NQLGVBQVc7QUFDVEQsTUFBQUEsS0FBSyxFQUFFLElBREU7QUFFVEMsTUFBQUEsV0FBVyxFQUFFO0FBRkosS0FoQ0o7QUFvQ1AsZUFBVztBQUNURCxNQUFBQSxLQUFLLEVBQUUsSUFERTtBQUVUQyxNQUFBQSxXQUFXLEVBQUU7QUFGSixLQXBDSjtBQXdDUFEsSUFBQUEsU0FBUyxFQUFFO0FBQ1RULE1BQUFBLEtBQUssRUFBRSxHQURFO0FBRVRDLE1BQUFBLFdBQVcsRUFBRSx5QkFGSjtBQUdUQyxNQUFBQSxPQUFPLEVBQUU7QUFIQSxLQXhDSjtBQTZDUFEsSUFBQUEsS0FBSyxFQUFFO0FBQ0xWLE1BQUFBLEtBQUssRUFBRSxHQURGO0FBRUxDLE1BQUFBLFdBQVcsRUFBRTtBQUZSLEtBN0NBO0FBaURQVSxJQUFBQSxFQUFFLEVBQUU7QUFDRlgsTUFBQUEsS0FBSyxFQUFFLEdBREw7QUFFRkMsTUFBQUEsV0FBVyxFQUFFLHFDQUZYO0FBR0ZDLE1BQUFBLE9BQU8sRUFBRTtBQUhQLEtBakRHO0FBc0RQVSxJQUFBQSxnQkFBZ0IsRUFBRTtBQUNoQlosTUFBQUEsS0FBSyxFQUFFLEtBRFM7QUFFaEJDLE1BQUFBLFdBQVcsRUFBRSxpREFGRztBQUdoQkMsTUFBQUEsT0FBTyxFQUFFO0FBSE8sS0F0RFg7QUEyRFBXLElBQUFBLEtBQUssRUFBRTtBQUNMYixNQUFBQSxLQUFLLEVBQUUsR0FERjtBQUVMQyxNQUFBQSxXQUFXLEVBQUU7QUFGUixLQTNEQTtBQStEUEwsSUFBQUEsTUFBTSxFQUFFO0FBQ05JLE1BQUFBLEtBQUssRUFBRSxHQUREO0FBRU5DLE1BQUFBLFdBQVcsRUFBRSxxQkFGUDtBQUdOQyxNQUFBQSxPQUFPLEVBQUU7QUFISDtBQS9ERCxHQUhFLEVBd0VWWSxPQXhFVSxDQXdFRixPQXhFRSxFQXlFVkEsT0F6RVUsQ0F5RUYsV0F6RUUsRUEwRVZBLE9BMUVVLENBMEVGLE9BMUVFLEVBMkVWQSxPQTNFVSxDQTJFRixTQTNFRSxFQTRFVkEsT0E1RVUsQ0E0RUYsU0E1RUUsRUE2RVZDLElBN0VVLENBNkVMLE1BN0VLLEVBOEVWZixLQTlFVSxDQThFSixNQTlFSSxFQThFSSxHQTlFSixFQStFVmdCLE9BL0VVLENBK0VGekIsR0FBRyxDQUFDeUIsT0EvRUYsRUFnRlZoQixLQWhGVSxDQWdGSixTQWhGSSxFQWdGTyxHQWhGUCxFQWlGVmlCLE9BakZVLENBaUZGLFlBakZFLEVBaUZZLEVBakZaLEVBa0ZWQSxPQWxGVSxDQWtGRixZQWxGRSxFQWtGWSxFQWxGWixFQW1GVkEsT0FuRlUsQ0FtRkYsK0JBbkZFLEVBbUYrQixFQW5GL0IsRUFvRlZDLE1BcEZVLENBb0ZILHlDQXBGRyxFQXFGVjlCLE9BckZVLENBcUZGLENBckZFLEVBcUZDLDJCQXJGRCxFQXFGOEJPLElBckYzQzs7QUF1RkFMLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBRCxDQUFIO0FBQ0QsQ0EzRkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hcmluYW1hcmluYS9EZXNrdG9wL3Rlc3Rpbmcvc2VydmVyL3NyYy9jbGkvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdXBkYXRlTm90aWZpZXIgPSByZXF1aXJlKCd1cGRhdGUtbm90aWZpZXInKVxuY29uc3QgeWFyZ3MgPSByZXF1aXJlKCd5YXJncycpXG5jb25zdCBydW4gPSByZXF1aXJlKCcuL3J1bicpXG5jb25zdCBwa2cgPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdXBkYXRlTm90aWZpZXIoeyBwa2cgfSkubm90aWZ5KClcblxuICBjb25zdCBhcmd2ID0geWFyZ3NcbiAgICAuY29uZmlnKCdjb25maWcnKVxuICAgIC51c2FnZSgnJDAgW29wdGlvbnNdIDxzb3VyY2U+JylcbiAgICAub3B0aW9ucyh7XG4gICAgICBwb3J0OiB7XG4gICAgICAgIGFsaWFzOiAncCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2V0IHBvcnQnLFxuICAgICAgICBkZWZhdWx0OiAzMDAwLFxuICAgICAgfSxcbiAgICAgIGhvc3Q6IHtcbiAgICAgICAgYWxpYXM6ICdIJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZXQgaG9zdCcsXG4gICAgICAgIGRlZmF1bHQ6ICdsb2NhbGhvc3QnLFxuICAgICAgfSxcbiAgICAgIHdhdGNoOiB7XG4gICAgICAgIGFsaWFzOiAndycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2F0Y2ggZmlsZShzKScsXG4gICAgICB9LFxuICAgICAgcm91dGVzOiB7XG4gICAgICAgIGFsaWFzOiAncicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGF0aCB0byByb3V0ZXMgZmlsZScsXG4gICAgICB9LFxuICAgICAgbWlkZGxld2FyZXM6IHtcbiAgICAgICAgYWxpYXM6ICdtJyxcbiAgICAgICAgYXJyYXk6IHRydWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGF0aHMgdG8gbWlkZGxld2FyZSBmaWxlcycsXG4gICAgICB9LFxuICAgICAgc3RhdGljOiB7XG4gICAgICAgIGFsaWFzOiAncycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2V0IHN0YXRpYyBmaWxlcyBkaXJlY3RvcnknLFxuICAgICAgfSxcbiAgICAgICdyZWFkLW9ubHknOiB7XG4gICAgICAgIGFsaWFzOiAncm8nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FsbG93IG9ubHkgR0VUIHJlcXVlc3RzJyxcbiAgICAgIH0sXG4gICAgICAnbm8tY29ycyc6IHtcbiAgICAgICAgYWxpYXM6ICduYycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRGlzYWJsZSBDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZycsXG4gICAgICB9LFxuICAgICAgJ25vLWd6aXAnOiB7XG4gICAgICAgIGFsaWFzOiAnbmcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Rpc2FibGUgR1pJUCBDb250ZW50LUVuY29kaW5nJyxcbiAgICAgIH0sXG4gICAgICBzbmFwc2hvdHM6IHtcbiAgICAgICAgYWxpYXM6ICdTJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZXQgc25hcHNob3RzIGRpcmVjdG9yeScsXG4gICAgICAgIGRlZmF1bHQ6ICcuJyxcbiAgICAgIH0sXG4gICAgICBkZWxheToge1xuICAgICAgICBhbGlhczogJ2QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FkZCBkZWxheSB0byByZXNwb25zZXMgKG1zKScsXG4gICAgICB9LFxuICAgICAgaWQ6IHtcbiAgICAgICAgYWxpYXM6ICdpJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZXQgZGF0YWJhc2UgaWQgcHJvcGVydHkgKGUuZy4gX2lkKScsXG4gICAgICAgIGRlZmF1bHQ6ICdpZCcsXG4gICAgICB9LFxuICAgICAgZm9yZWlnbktleVN1ZmZpeDoge1xuICAgICAgICBhbGlhczogJ2ZrcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2V0IGZvcmVpZ24ga2V5IHN1ZmZpeCAoZS5nLiBfaWQgYXMgaW4gcG9zdF9pZCknLFxuICAgICAgICBkZWZhdWx0OiAnSWQnLFxuICAgICAgfSxcbiAgICAgIHF1aWV0OiB7XG4gICAgICAgIGFsaWFzOiAncScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU3VwcHJlc3MgbG9nIG1lc3NhZ2VzIGZyb20gb3V0cHV0JyxcbiAgICAgIH0sXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgYWxpYXM6ICdjJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQYXRoIHRvIGNvbmZpZyBmaWxlJyxcbiAgICAgICAgZGVmYXVsdDogJ2pzb24tc2VydmVyLmpzb24nLFxuICAgICAgfSxcbiAgICB9KVxuICAgIC5ib29sZWFuKCd3YXRjaCcpXG4gICAgLmJvb2xlYW4oJ3JlYWQtb25seScpXG4gICAgLmJvb2xlYW4oJ3F1aWV0JylcbiAgICAuYm9vbGVhbignbm8tY29ycycpXG4gICAgLmJvb2xlYW4oJ25vLWd6aXAnKVxuICAgIC5oZWxwKCdoZWxwJylcbiAgICAuYWxpYXMoJ2hlbHAnLCAnaCcpXG4gICAgLnZlcnNpb24ocGtnLnZlcnNpb24pXG4gICAgLmFsaWFzKCd2ZXJzaW9uJywgJ3YnKVxuICAgIC5leGFtcGxlKCckMCBkYi5qc29uJywgJycpXG4gICAgLmV4YW1wbGUoJyQwIGZpbGUuanMnLCAnJylcbiAgICAuZXhhbXBsZSgnJDAgaHR0cDovL2V4YW1wbGUuY29tL2RiLmpzb24nLCAnJylcbiAgICAuZXBpbG9nKCdodHRwczovL2dpdGh1Yi5jb20vdHlwaWNvZGUvanNvbi1zZXJ2ZXInKVxuICAgIC5yZXF1aXJlKDEsICdNaXNzaW5nIDxzb3VyY2U+IGFyZ3VtZW50JykuYXJndlxuXG4gIHJ1bihhcmd2KVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "updateNotifier",
        "require",
        "yargs",
        "run",
        "pkg",
        "module",
        "exports",
        "notify",
        "argv",
        "config",
        "usage",
        "options",
        "port",
        "alias",
        "description",
        "default",
        "host",
        "watch",
        "routes",
        "middlewares",
        "array",
        "static",
        "snapshots",
        "delay",
        "id",
        "foreignKeySuffix",
        "quiet",
        "boolean",
        "help",
        "version",
        "example",
        "epilog"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/",
      "sourcesContent": [
        "const updateNotifier = require('update-notifier')\nconst yargs = require('yargs')\nconst run = require('./run')\nconst pkg = require('../../package.json')\n\nmodule.exports = function () {\n  updateNotifier({ pkg }).notify()\n\n  const argv = yargs\n    .config('config')\n    .usage('$0 [options] <source>')\n    .options({\n      port: {\n        alias: 'p',\n        description: 'Set port',\n        default: 3000,\n      },\n      host: {\n        alias: 'H',\n        description: 'Set host',\n        default: 'localhost',\n      },\n      watch: {\n        alias: 'w',\n        description: 'Watch file(s)',\n      },\n      routes: {\n        alias: 'r',\n        description: 'Path to routes file',\n      },\n      middlewares: {\n        alias: 'm',\n        array: true,\n        description: 'Paths to middleware files',\n      },\n      static: {\n        alias: 's',\n        description: 'Set static files directory',\n      },\n      'read-only': {\n        alias: 'ro',\n        description: 'Allow only GET requests',\n      },\n      'no-cors': {\n        alias: 'nc',\n        description: 'Disable Cross-Origin Resource Sharing',\n      },\n      'no-gzip': {\n        alias: 'ng',\n        description: 'Disable GZIP Content-Encoding',\n      },\n      snapshots: {\n        alias: 'S',\n        description: 'Set snapshots directory',\n        default: '.',\n      },\n      delay: {\n        alias: 'd',\n        description: 'Add delay to responses (ms)',\n      },\n      id: {\n        alias: 'i',\n        description: 'Set database id property (e.g. _id)',\n        default: 'id',\n      },\n      foreignKeySuffix: {\n        alias: 'fks',\n        description: 'Set foreign key suffix (e.g. _id as in post_id)',\n        default: 'Id',\n      },\n      quiet: {\n        alias: 'q',\n        description: 'Suppress log messages from output',\n      },\n      config: {\n        alias: 'c',\n        description: 'Path to config file',\n        default: 'json-server.json',\n      },\n    })\n    .boolean('watch')\n    .boolean('read-only')\n    .boolean('quiet')\n    .boolean('no-cors')\n    .boolean('no-gzip')\n    .help('help')\n    .alias('help', 'h')\n    .version(pkg.version)\n    .alias('version', 'v')\n    .example('$0 db.json', '')\n    .example('$0 file.js', '')\n    .example('$0 http://example.com/db.json', '')\n    .epilog('https://github.com/typicode/json-server')\n    .require(1, 'Missing <source> argument').argv\n\n  run(argv)\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/cli/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/cli/run.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/run.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/cli/run.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/run.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/",
        "sourceFileName": "run.js"
      }
    },
    "ast": null,
    "code": "const fs = require('fs');\n\nconst path = require('path');\n\nconst jph = require('json-parse-helpfulerror');\n\nconst _ = require('lodash');\n\nconst chalk = require('chalk');\n\nconst enableDestroy = require('server-destroy');\n\nconst pause = require('connect-pause');\n\nconst is = require('./utils/is');\n\nconst load = require('./utils/load');\n\nconst jsonServer = require('../server');\n\nfunction prettyPrint(argv, object, rules) {\n  const root = `http://${argv.host}:${argv.port}`;\n  console.log();\n  console.log(chalk.bold('  Resources'));\n\n  for (const prop in object) {\n    console.log(`  ${root}/${prop}`);\n  }\n\n  if (rules) {\n    console.log();\n    console.log(chalk.bold('  Other routes'));\n\n    for (const rule in rules) {\n      console.log(`  ${rule} -> ${rules[rule]}`);\n    }\n  }\n\n  console.log();\n  console.log(chalk.bold('  Home'));\n  console.log(`  ${root}`);\n  console.log();\n}\n\nfunction createApp(db, routes, middlewares, argv) {\n  const app = jsonServer.create();\n  const {\n    foreignKeySuffix\n  } = argv;\n  const router = jsonServer.router(db, foreignKeySuffix ? {\n    foreignKeySuffix\n  } : undefined);\n  const defaultsOpts = {\n    logger: !argv.quiet,\n    readOnly: argv.readOnly,\n    noCors: argv.noCors,\n    noGzip: argv.noGzip,\n    bodyParser: true\n  };\n\n  if (argv.static) {\n    defaultsOpts.static = path.join(process.cwd(), argv.static);\n  }\n\n  const defaults = jsonServer.defaults(defaultsOpts);\n  app.use(defaults);\n\n  if (routes) {\n    const rewriter = jsonServer.rewriter(routes);\n    app.use(rewriter);\n  }\n\n  if (middlewares) {\n    app.use(middlewares);\n  }\n\n  if (argv.delay) {\n    app.use(pause(argv.delay));\n  }\n\n  router.db._.id = argv.id;\n  app.db = router.db;\n  app.use(router);\n  return app;\n}\n\nmodule.exports = function (argv) {\n  const source = argv._[0];\n  let app;\n  let server;\n\n  if (!fs.existsSync(argv.snapshots)) {\n    console.log(`Error: snapshots directory ${argv.snapshots} doesn't exist`);\n    process.exit(1);\n  } // noop log fn\n\n\n  if (argv.quiet) {\n    console.log = () => {};\n  }\n\n  console.log();\n  console.log(chalk.cyan('  \\\\{^_^}/ hi!'));\n\n  function start(cb) {\n    console.log();\n    console.log(chalk.gray('  Loading', source));\n    server = undefined; // create db and load object, JSON file, JS or HTTP database\n\n    return load(source).then(db => {\n      // Load additional routes\n      let routes;\n\n      if (argv.routes) {\n        console.log(chalk.gray('  Loading', argv.routes));\n        routes = JSON.parse(fs.readFileSync(argv.routes));\n      } // Load middlewares\n\n\n      let middlewares;\n\n      if (argv.middlewares) {\n        middlewares = argv.middlewares.map(function (m) {\n          console.log(chalk.gray('  Loading', m));\n          return require(path.resolve(m));\n        });\n      } // Done\n\n\n      console.log(chalk.gray('  Done')); // Create app and server\n\n      app = createApp(db, routes, middlewares, argv);\n      server = app.listen(argv.port, argv.host); // Enhance with a destroy function\n\n      enableDestroy(server); // Display server informations\n\n      prettyPrint(argv, db.getState(), routes); // Catch and handle any error occurring in the server process\n\n      process.on('uncaughtException', error => {\n        if (error.errno === 'EADDRINUSE') console.log(chalk.red(`Cannot bind to the port ${error.port}. Please specify another port number either through --port argument or through the json-server.json configuration file`));else console.log('Some error occurred', error);\n        process.exit(1);\n      });\n    });\n  } // Start server\n\n\n  start().then(() => {\n    // Snapshot\n    console.log(chalk.gray('  Type s + enter at any time to create a snapshot of the database')); // Support nohup\n    // https://github.com/typicode/json-server/issues/221\n\n    process.stdin.on('error', () => {\n      console.log(`  Error, can't read from stdin`);\n      console.log(`  Creating a snapshot from the CLI won't be possible`);\n    });\n    process.stdin.setEncoding('utf8');\n    process.stdin.on('data', chunk => {\n      if (chunk.trim().toLowerCase() === 's') {\n        const filename = `db-${Date.now()}.json`;\n        const file = path.join(argv.snapshots, filename);\n        const state = app.db.getState();\n        fs.writeFileSync(file, JSON.stringify(state, null, 2), 'utf-8');\n        console.log(`  Saved snapshot to ${path.relative(process.cwd(), file)}\\n`);\n      }\n    }); // Watch files\n\n    if (argv.watch) {\n      console.log(chalk.gray('  Watching...'));\n      console.log();\n      const source = argv._[0]; // Can't watch URL\n\n      if (is.URL(source)) throw new Error(\"Can't watch URL\"); // Watch .js or .json file\n      // Since lowdb uses atomic writing, directory is watched instead of file\n\n      const watchedDir = path.dirname(source);\n      let readError = false;\n      fs.watch(watchedDir, (event, file) => {\n        // https://github.com/typicode/json-server/issues/420\n        // file can be null\n        if (file) {\n          const watchedFile = path.resolve(watchedDir, file);\n\n          if (watchedFile === path.resolve(source)) {\n            if (is.FILE(watchedFile)) {\n              let obj;\n\n              try {\n                obj = jph.parse(fs.readFileSync(watchedFile));\n\n                if (readError) {\n                  console.log(chalk.green(`  Read error has been fixed :)`));\n                  readError = false;\n                }\n              } catch (e) {\n                readError = true;\n                console.log(chalk.red(`  Error reading ${watchedFile}`));\n                console.error(e.message);\n                return;\n              } // Compare .json file content with in memory database\n\n\n              const isDatabaseDifferent = !_.isEqual(obj, app.db.getState());\n\n              if (isDatabaseDifferent) {\n                console.log(chalk.gray(`  ${source} has changed, reloading...`));\n                server && server.destroy(() => start());\n              }\n            }\n          }\n        }\n      }); // Watch routes\n\n      if (argv.routes) {\n        const watchedDir = path.dirname(argv.routes);\n        fs.watch(watchedDir, (event, file) => {\n          if (file) {\n            const watchedFile = path.resolve(watchedDir, file);\n\n            if (watchedFile === path.resolve(argv.routes)) {\n              console.log(chalk.gray(`  ${argv.routes} has changed, reloading...`));\n              server && server.destroy(() => start());\n            }\n          }\n        });\n      }\n    }\n  }).catch(err => {\n    console.log(err);\n    process.exit(1);\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJ1bi5qcyJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwianBoIiwiXyIsImNoYWxrIiwiZW5hYmxlRGVzdHJveSIsInBhdXNlIiwiaXMiLCJsb2FkIiwianNvblNlcnZlciIsInByZXR0eVByaW50IiwiYXJndiIsIm9iamVjdCIsInJ1bGVzIiwicm9vdCIsImhvc3QiLCJwb3J0IiwiY29uc29sZSIsImxvZyIsImJvbGQiLCJwcm9wIiwicnVsZSIsImNyZWF0ZUFwcCIsImRiIiwicm91dGVzIiwibWlkZGxld2FyZXMiLCJhcHAiLCJjcmVhdGUiLCJmb3JlaWduS2V5U3VmZml4Iiwicm91dGVyIiwidW5kZWZpbmVkIiwiZGVmYXVsdHNPcHRzIiwibG9nZ2VyIiwicXVpZXQiLCJyZWFkT25seSIsIm5vQ29ycyIsIm5vR3ppcCIsImJvZHlQYXJzZXIiLCJzdGF0aWMiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImRlZmF1bHRzIiwidXNlIiwicmV3cml0ZXIiLCJkZWxheSIsImlkIiwibW9kdWxlIiwiZXhwb3J0cyIsInNvdXJjZSIsInNlcnZlciIsImV4aXN0c1N5bmMiLCJzbmFwc2hvdHMiLCJleGl0IiwiY3lhbiIsInN0YXJ0IiwiY2IiLCJncmF5IiwidGhlbiIsIkpTT04iLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsIm1hcCIsIm0iLCJyZXNvbHZlIiwibGlzdGVuIiwiZ2V0U3RhdGUiLCJvbiIsImVycm9yIiwiZXJybm8iLCJyZWQiLCJzdGRpbiIsInNldEVuY29kaW5nIiwiY2h1bmsiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJmaWxlbmFtZSIsIkRhdGUiLCJub3ciLCJmaWxlIiwic3RhdGUiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwicmVsYXRpdmUiLCJ3YXRjaCIsIlVSTCIsIkVycm9yIiwid2F0Y2hlZERpciIsImRpcm5hbWUiLCJyZWFkRXJyb3IiLCJldmVudCIsIndhdGNoZWRGaWxlIiwiRklMRSIsIm9iaiIsImdyZWVuIiwiZSIsIm1lc3NhZ2UiLCJpc0RhdGFiYXNlRGlmZmVyZW50IiwiaXNFcXVhbCIsImRlc3Ryb3kiLCJjYXRjaCIsImVyciJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLHlCQUFELENBQW5COztBQUNBLE1BQU1HLENBQUMsR0FBR0gsT0FBTyxDQUFDLFFBQUQsQ0FBakI7O0FBQ0EsTUFBTUksS0FBSyxHQUFHSixPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxNQUFNSyxhQUFhLEdBQUdMLE9BQU8sQ0FBQyxnQkFBRCxDQUE3Qjs7QUFDQSxNQUFNTSxLQUFLLEdBQUdOLE9BQU8sQ0FBQyxlQUFELENBQXJCOztBQUNBLE1BQU1PLEVBQUUsR0FBR1AsT0FBTyxDQUFDLFlBQUQsQ0FBbEI7O0FBQ0EsTUFBTVEsSUFBSSxHQUFHUixPQUFPLENBQUMsY0FBRCxDQUFwQjs7QUFDQSxNQUFNUyxVQUFVLEdBQUdULE9BQU8sQ0FBQyxXQUFELENBQTFCOztBQUVBLFNBQVNVLFdBQVQsQ0FBcUJDLElBQXJCLEVBQTJCQyxNQUEzQixFQUFtQ0MsS0FBbkMsRUFBMEM7QUFDeEMsUUFBTUMsSUFBSSxHQUFJLFVBQVNILElBQUksQ0FBQ0ksSUFBSyxJQUFHSixJQUFJLENBQUNLLElBQUssRUFBOUM7QUFFQUMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSO0FBQ0FELEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZZCxLQUFLLENBQUNlLElBQU4sQ0FBVyxhQUFYLENBQVo7O0FBQ0EsT0FBSyxNQUFNQyxJQUFYLElBQW1CUixNQUFuQixFQUEyQjtBQUN6QkssSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsS0FBSUosSUFBSyxJQUFHTSxJQUFLLEVBQTlCO0FBQ0Q7O0FBRUQsTUFBSVAsS0FBSixFQUFXO0FBQ1RJLElBQUFBLE9BQU8sQ0FB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UixrQkFBTVksV0FBVyxHQUFHMUYsSUFBSSxDQUFDK0QsT0FBTCxDQUFhdUIsVUFBYixFQUF5QlIsSUFBekIsQ0FBcEI7O0FBQ0EsZ0JBQUlZLFdBQVcsS0FBSzFGLElBQUksQ0FBQytELE9BQUwsQ0FBYXJELElBQUksQ0FBQ2EsTUFBbEIsQ0FBcEIsRUFBK0M7QUFDN0NQLGNBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUNFZCxLQUFLLENBQUNxRCxJQUFOLENBQVksS0FBSTlDLElBQUksQ0FBQ2EsTUFBTyw0QkFBNUIsQ0FERjtBQUdBMEIsY0FBQUEsTUFBTSxJQUFJQSxNQUFNLENBQUNpRCxPQUFQLENBQWUsTUFBTTVDLEtBQUssRUFBMUIsQ0FBVjtBQUNEO0FBQ0Y7QUFDRixTQVZEO0FBV0Q7QUFDRjtBQUNGLEdBM0ZILEVBNEZHNkMsS0E1RkgsQ0E0RlVDLEdBQUQsSUFBUztBQUNkcEYsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVltRixHQUFaO0FBQ0E3RCxJQUFBQSxPQUFPLENBQUNhLElBQVIsQ0FBYSxDQUFiO0FBQ0QsR0EvRkg7QUFnR0QsQ0F2S0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hcmluYW1hcmluYS9EZXNrdG9wL3Rlc3Rpbmcvc2VydmVyL3NyYy9jbGkvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKCdmcycpXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBqcGggPSByZXF1aXJlKCdqc29uLXBhcnNlLWhlbHBmdWxlcnJvcicpXG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJylcbmNvbnN0IGNoYWxrID0gcmVxdWlyZSgnY2hhbGsnKVxuY29uc3QgZW5hYmxlRGVzdHJveSA9IHJlcXVpcmUoJ3NlcnZlci1kZXN0cm95JylcbmNvbnN0IHBhdXNlID0gcmVxdWlyZSgnY29ubmVjdC1wYXVzZScpXG5jb25zdCBpcyA9IHJlcXVpcmUoJy4vdXRpbHMvaXMnKVxuY29uc3QgbG9hZCA9IHJlcXVpcmUoJy4vdXRpbHMvbG9hZCcpXG5jb25zdCBqc29uU2VydmVyID0gcmVxdWlyZSgnLi4vc2VydmVyJylcblxuZnVuY3Rpb24gcHJldHR5UHJpbnQoYXJndiwgb2JqZWN0LCBydWxlcykge1xuICBjb25zdCByb290ID0gYGh0dHA6Ly8ke2FyZ3YuaG9zdH06JHthcmd2LnBvcnR9YFxuXG4gIGNvbnNvbGUubG9nKClcbiAgY29uc29sZS5sb2coY2hhbGsuYm9sZCgnICBSZXNvdXJjZXMnKSlcbiAgZm9yIChjb25zdCBwcm9wIGluIG9iamVjdCkge1xuICAgIGNvbnNvbGUubG9nKGAgICR7cm9vdH0vJHtwcm9wfWApXG4gIH1cblxuICBpZiAocnVsZXMpIHtcbiAgICBjb25zb2xlLmxvZygpXG4gICAgY29uc29sZS5sb2coY2hhbGsuYm9sZCgnICBPdGhlciByb3V0ZXMnKSlcbiAgICBmb3IgKGNvbnN0IHJ1bGUgaW4gcnVsZXMpIHtcbiAgICAgIGNvbnNvbGUubG9nKGAgICR7cnVsZX0gLT4gJHtydWxlc1tydWxlXX1gKVxuICAgIH1cbiAgfVxuXG4gIGNvbnNvbGUubG9nKClcbiAgY29uc29sZS5sb2coY2hhbGsuYm9sZCgnICBIb21lJykpXG4gIGNvbnNvbGUubG9nKGAgICR7cm9vdH1gKVxuICBjb25zb2xlLmxvZygpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcChkYiwgcm91dGVzLCBtaWRkbGV3YXJlcywgYXJndikge1xuICBjb25zdCBhcHAgPSBqc29uU2VydmVyLmNyZWF0ZSgpXG5cbiAgY29uc3QgeyBmb3JlaWduS2V5U3VmZml4IH0gPSBhcmd2XG5cbiAgY29uc3Qgcm91dGVyID0ganNvblNlcnZlci5yb3V0ZXIoXG4gICAgZGIsXG4gICAgZm9yZWlnbktleVN1ZmZpeCA/IHsgZm9yZWlnbktleVN1ZmZpeCB9IDogdW5kZWZpbmVkXG4gIClcblxuICBjb25zdCBkZWZhdWx0c09wdHMgPSB7XG4gICAgbG9nZ2VyOiAhYXJndi5xdWlldCxcbiAgICByZWFkT25seTogYXJndi5yZWFkT25seSxcbiAgICBub0NvcnM6IGFyZ3Yubm9Db3JzLFxuICAgIG5vR3ppcDogYXJndi5ub0d6aXAsXG4gICAgYm9keVBhcnNlcjogdHJ1ZSxcbiAgfVxuXG4gIGlmIChhcmd2LnN0YXRpYykge1xuICAgIGRlZmF1bHRzT3B0cy5zdGF0aWMgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgYXJndi5zdGF0aWMpXG4gIH1cblxuICBjb25zdCBkZWZhdWx0cyA9IGpzb25TZXJ2ZXIuZGVmYXVsdHMoZGVmYXVsdHNPcHRzKVxuICBhcHAudXNlKGRlZmF1bHRzKVxuXG4gIGlmIChyb3V0ZXMpIHtcbiAgICBjb25zdCByZXdyaXRlciA9IGpzb25TZXJ2ZXIucmV3cml0ZXIocm91dGVzKVxuICAgIGFwcC51c2UocmV3cml0ZXIpXG4gIH1cblxuICBpZiAobWlkZGxld2FyZXMpIHtcbiAgICBhcHAudXNlKG1pZGRsZXdhcmVzKVxuICB9XG5cbiAgaWYgKGFyZ3YuZGVsYXkpIHtcbiAgICBhcHAudXNlKHBhdXNlKGFyZ3YuZGVsYXkpKVxuICB9XG5cbiAgcm91dGVyLmRiLl8uaWQgPSBhcmd2LmlkXG4gIGFwcC5kYiA9IHJvdXRlci5kYlxuICBhcHAudXNlKHJvdXRlcilcblxuICByZXR1cm4gYXBwXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3YpIHtcbiAgY29uc3Qgc291cmNlID0gYXJndi5fWzBdXG4gIGxldCBhcHBcbiAgbGV0IHNlcnZlclxuXG4gIGlmICghZnMuZXhpc3RzU3luYyhhcmd2LnNuYXBzaG90cykpIHtcbiAgICBjb25zb2xlLmxvZyhgRXJyb3I6IHNuYXBzaG90cyBkaXJlY3RvcnkgJHthcmd2LnNuYXBzaG90c30gZG9lc24ndCBleGlzdGApXG4gICAgcHJvY2Vzcy5leGl0KDEpXG4gIH1cblxuICAvLyBub29wIGxvZyBmblxuICBpZiAoYXJndi5xdWlldCkge1xuICAgIGNvbnNvbGUubG9nID0gKCkgPT4ge31cbiAgfVxuXG4gIGNvbnNvbGUubG9nKClcbiAgY29uc29sZS5sb2coY2hhbGsuY3lhbignICBcXFxce15fXn0vIGhpIScpKVxuXG4gIGZ1bmN0aW9uIHN0YXJ0KGNiKSB7XG4gICAgY29uc29sZS5sb2coKVxuXG4gICAgY29uc29sZS5sb2coY2hhbGsuZ3JheSgnICBMb2FkaW5nJywgc291cmNlKSlcblxuICAgIHNlcnZlciA9IHVuZGVmaW5lZFxuXG4gICAgLy8gY3JlYXRlIGRiIGFuZCBsb2FkIG9iamVjdCwgSlNPTiBmaWxlLCBKUyBvciBIVFRQIGRhdGFiYXNlXG4gICAgcmV0dXJuIGxvYWQoc291cmNlKS50aGVuKChkYikgPT4ge1xuICAgICAgLy8gTG9hZCBhZGRpdGlvbmFsIHJvdXRlc1xuICAgICAgbGV0IHJvdXRlc1xuICAgICAgaWYgKGFyZ3Yucm91dGVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLmdyYXkoJyAgTG9hZGluZycsIGFyZ3Yucm91dGVzKSlcbiAgICAgICAgcm91dGVzID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoYXJndi5yb3V0ZXMpKVxuICAgICAgfVxuXG4gICAgICAvLyBMb2FkIG1pZGRsZXdhcmVzXG4gICAgICBsZXQgbWlkZGxld2FyZXNcbiAgICAgIGlmIChhcmd2Lm1pZGRsZXdhcmVzKSB7XG4gICAgICAgIG1pZGRsZXdhcmVzID0gYXJndi5taWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5ncmF5KCcgIExvYWRpbmcnLCBtKSlcbiAgICAgICAgICByZXR1cm4gcmVxdWlyZShwYXRoLnJlc29sdmUobSkpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIC8vIERvbmVcbiAgICAgIGNvbnNvbGUubG9nKGNoYWxrLmdyYXkoJyAgRG9uZScpKVxuXG4gICAgICAvLyBDcmVhdGUgYXBwIGFuZCBzZXJ2ZXJcbiAgICAgIGFwcCA9IGNyZWF0ZUFwcChkYiwgcm91dGVzLCBtaWRkbGV3YXJlcywgYXJndilcbiAgICAgIHNlcnZlciA9IGFwcC5saXN0ZW4oYXJndi5wb3J0LCBhcmd2Lmhvc3QpXG5cbiAgICAgIC8vIEVuaGFuY2Ugd2l0aCBhIGRlc3Ryb3kgZnVuY3Rpb25cbiAgICAgIGVuYWJsZURlc3Ryb3koc2VydmVyKVxuXG4gICAgICAvLyBEaXNwbGF5IHNlcnZlciBpbmZvcm1hdGlvbnNcbiAgICAgIHByZXR0eVByaW50KGFyZ3YsIGRiLmdldFN0YXRlKCksIHJvdXRlcylcblxuICAgICAgLy8gQ2F0Y2ggYW5kIGhhbmRsZSBhbnkgZXJyb3Igb2NjdXJyaW5nIGluIHRoZSBzZXJ2ZXIgcHJvY2Vzc1xuICAgICAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKGVycm9yLmVycm5vID09PSAnRUFERFJJTlVTRScpXG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBjaGFsay5yZWQoXG4gICAgICAgICAgICAgIGBDYW5ub3QgYmluZCB0byB0aGUgcG9ydCAke2Vycm9yLnBvcnR9LiBQbGVhc2Ugc3BlY2lmeSBhbm90aGVyIHBvcnQgbnVtYmVyIGVpdGhlciB0aHJvdWdoIC0tcG9ydCBhcmd1bWVudCBvciB0aHJvdWdoIHRoZSBqc29uLXNlcnZlci5qc29uIGNvbmZpZ3VyYXRpb24gZmlsZWBcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIGVsc2UgY29uc29sZS5sb2coJ1NvbWUgZXJyb3Igb2NjdXJyZWQnLCBlcnJvcilcbiAgICAgICAgcHJvY2Vzcy5leGl0KDEpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvLyBTdGFydCBzZXJ2ZXJcbiAgc3RhcnQoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIC8vIFNuYXBzaG90XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgY2hhbGsuZ3JheShcbiAgICAgICAgICAnICBUeXBlIHMgKyBlbnRlciBhdCBhbnkgdGltZSB0byBjcmVhdGUgYSBzbmFwc2hvdCBvZiB0aGUgZGF0YWJhc2UnXG4gICAgICAgIClcbiAgICAgIClcblxuICAgICAgLy8gU3VwcG9ydCBub2h1cFxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3R5cGljb2RlL2pzb24tc2VydmVyL2lzc3Vlcy8yMjFcbiAgICAgIHByb2Nlc3Muc3RkaW4ub24oJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgICBFcnJvciwgY2FuJ3QgcmVhZCBmcm9tIHN0ZGluYClcbiAgICAgICAgY29uc29sZS5sb2coYCAgQ3JlYXRpbmcgYSBzbmFwc2hvdCBmcm9tIHRoZSBDTEkgd29uJ3QgYmUgcG9zc2libGVgKVxuICAgICAgfSlcbiAgICAgIHByb2Nlc3Muc3RkaW4uc2V0RW5jb2RpbmcoJ3V0ZjgnKVxuICAgICAgcHJvY2Vzcy5zdGRpbi5vbignZGF0YScsIChjaHVuaykgPT4ge1xuICAgICAgICBpZiAoY2h1bmsudHJpbSgpLnRvTG93ZXJDYXNlKCkgPT09ICdzJykge1xuICAgICAgICAgIGNvbnN0IGZpbGVuYW1lID0gYGRiLSR7RGF0ZS5ub3coKX0uanNvbmBcbiAgICAgICAgICBjb25zdCBmaWxlID0gcGF0aC5qb2luKGFyZ3Yuc25hcHNob3RzLCBmaWxlbmFtZSlcbiAgICAgICAgICBjb25zdCBzdGF0ZSA9IGFwcC5kYi5nZXRTdGF0ZSgpXG4gICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhmaWxlLCBKU09OLnN0cmluZ2lmeShzdGF0ZSwgbnVsbCwgMiksICd1dGYtOCcpXG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgICBTYXZlZCBzbmFwc2hvdCB0byAke3BhdGgucmVsYXRpdmUocHJvY2Vzcy5jd2QoKSwgZmlsZSl9XFxuYFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gV2F0Y2ggZmlsZXNcbiAgICAgIGlmIChhcmd2LndhdGNoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLmdyYXkoJyAgV2F0Y2hpbmcuLi4nKSlcbiAgICAgICAgY29uc29sZS5sb2coKVxuICAgICAgICBjb25zdCBzb3VyY2UgPSBhcmd2Ll9bMF1cblxuICAgICAgICAvLyBDYW4ndCB3YXRjaCBVUkxcbiAgICAgICAgaWYgKGlzLlVSTChzb3VyY2UpKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCB3YXRjaCBVUkxcIilcblxuICAgICAgICAvLyBXYXRjaCAuanMgb3IgLmpzb24gZmlsZVxuICAgICAgICAvLyBTaW5jZSBsb3dkYiB1c2VzIGF0b21pYyB3cml0aW5nLCBkaXJlY3RvcnkgaXMgd2F0Y2hlZCBpbnN0ZWFkIG9mIGZpbGVcbiAgICAgICAgY29uc3Qgd2F0Y2hlZERpciA9IHBhdGguZGlybmFtZShzb3VyY2UpXG4gICAgICAgIGxldCByZWFkRXJyb3IgPSBmYWxzZVxuICAgICAgICBmcy53YXRjaCh3YXRjaGVkRGlyLCAoZXZlbnQsIGZpbGUpID0+IHtcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdHlwaWNvZGUvanNvbi1zZXJ2ZXIvaXNzdWVzLzQyMFxuICAgICAgICAgIC8vIGZpbGUgY2FuIGJlIG51bGxcbiAgICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgY29uc3Qgd2F0Y2hlZEZpbGUgPSBwYXRoLnJlc29sdmUod2F0Y2hlZERpciwgZmlsZSlcbiAgICAgICAgICAgIGlmICh3YXRjaGVkRmlsZSA9PT0gcGF0aC5yZXNvbHZlKHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgaWYgKGlzLkZJTEUod2F0Y2hlZEZpbGUpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9ialxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBvYmogPSBqcGgucGFyc2UoZnMucmVhZEZpbGVTeW5jKHdhdGNoZWRGaWxlKSlcbiAgICAgICAgICAgICAgICAgIGlmIChyZWFkRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oYCAgUmVhZCBlcnJvciBoYXMgYmVlbiBmaXhlZCA6KWApKVxuICAgICAgICAgICAgICAgICAgICByZWFkRXJyb3IgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIHJlYWRFcnJvciA9IHRydWVcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLnJlZChgICBFcnJvciByZWFkaW5nICR7d2F0Y2hlZEZpbGV9YCkpXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUubWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgLmpzb24gZmlsZSBjb250ZW50IHdpdGggaW4gbWVtb3J5IGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgY29uc3QgaXNEYXRhYmFzZURpZmZlcmVudCA9ICFfLmlzRXF1YWwob2JqLCBhcHAuZGIuZ2V0U3RhdGUoKSlcbiAgICAgICAgICAgICAgICBpZiAoaXNEYXRhYmFzZURpZmZlcmVudCkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgIGNoYWxrLmdyYXkoYCAgJHtzb3VyY2V9IGhhcyBjaGFuZ2VkLCByZWxvYWRpbmcuLi5gKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgc2VydmVyICYmIHNlcnZlci5kZXN0cm95KCgpID0+IHN0YXJ0KCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIFdhdGNoIHJvdXRlc1xuICAgICAgICBpZiAoYXJndi5yb3V0ZXMpIHtcbiAgICAgICAgICBjb25zdCB3YXRjaGVkRGlyID0gcGF0aC5kaXJuYW1lKGFyZ3Yucm91dGVzKVxuICAgICAgICAgIGZzLndhdGNoKHdhdGNoZWREaXIsIChldmVudCwgZmlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgY29uc3Qgd2F0Y2hlZEZpbGUgPSBwYXRoLnJlc29sdmUod2F0Y2hlZERpciwgZmlsZSlcbiAgICAgICAgICAgICAgaWYgKHdhdGNoZWRGaWxlID09PSBwYXRoLnJlc29sdmUoYXJndi5yb3V0ZXMpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICBjaGFsay5ncmF5KGAgICR7YXJndi5yb3V0ZXN9IGhhcyBjaGFuZ2VkLCByZWxvYWRpbmcuLi5gKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBzZXJ2ZXIgJiYgc2VydmVyLmRlc3Ryb3koKCkgPT4gc3RhcnQoKSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICBwcm9jZXNzLmV4aXQoMSlcbiAgICB9KVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "run.js"
      ],
      "names": [
        "fs",
        "require",
        "path",
        "jph",
        "_",
        "chalk",
        "enableDestroy",
        "pause",
        "is",
        "load",
        "jsonServer",
        "prettyPrint",
        "argv",
        "object",
        "rules",
        "root",
        "host",
        "port",
        "console",
        "log",
        "bold",
        "prop",
        "rule",
        "createApp",
        "db",
        "routes",
        "middlewares",
        "app",
        "create",
        "foreignKeySuffix",
        "router",
        "undefined",
        "defaultsOpts",
        "logger",
        "quiet",
        "readOnly",
        "noCors",
        "noGzip",
        "bodyParser",
        "static",
        "join",
        "process",
        "cwd",
        "defaults",
        "use",
        "rewriter",
        "delay",
        "id",
        "module",
        "exports",
        "source",
        "server",
        "existsSync",
        "snapshots",
        "exit",
        "cyan",
        "start",
        "cb",
        "gray",
        "then",
        "JSON",
        "parse",
        "readFileSync",
        "map",
        "m",
        "resolve",
        "listen",
        "getState",
        "on",
        "error",
        "errno",
        "red",
        "stdin",
        "setEncoding",
        "chunk",
        "trim",
        "toLowerCase",
        "filename",
        "Date",
        "now",
        "file",
        "state",
        "writeFileSync",
        "stringify",
        "relative",
        "watch",
        "URL",
        "Error",
        "watchedDir",
        "dirname",
        "readError",
        "event",
        "watchedFile",
        "FILE",
        "obj",
        "green",
        "e",
        "message",
        "isDatabaseDifferent",
        "isEqual",
        "destroy",
        "catch",
        "err"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/",
      "sourcesContent": [
        "const fs = require('fs')\nconst path = require('path')\nconst jph = require('json-parse-helpfulerror')\nconst _ = require('lodash')\nconst chalk = require('chalk')\nconst enableDestroy = require('server-destroy')\nconst pause = require('connect-pause')\nconst is = require('./utils/is')\nconst load = require('./utils/load')\nconst jsonServer = require('../server')\n\nfunction prettyPrint(argv, object, rules) {\n  const root = `http://${argv.host}:${argv.port}`\n\n  console.log()\n  console.log(chalk.bold('  Resources'))\n  for (const prop in object) {\n    console.log(`  ${root}/${prop}`)\n  }\n\n  if (rules) {\n    console.log()\n    console.log(chalk.bold('  Other routes'))\n    for (const rule in rules) {\n      console.log(`  ${rule} -> ${rules[rule]}`)\n    }\n  }\n\n  console.log()\n  console.log(chalk.bold('  Home'))\n  console.log(`  ${root}`)\n  console.log()\n}\n\nfunction createApp(db, routes, middlewares, argv) {\n  const app = jsonServer.create()\n\n  const { foreignKeySuffix } = argv\n\n  const router = jsonServer.router(\n    db,\n    foreignKeySuffix ? { foreignKeySuffix } : undefined\n  )\n\n  const defaultsOpts = {\n    logger: !argv.quiet,\n    readOnly: argv.readOnly,\n    noCors: argv.noCors,\n    noGzip: argv.noGzip,\n    bodyParser: true,\n  }\n\n  if (argv.static) {\n    defaultsOpts.static = path.join(process.cwd(), argv.static)\n  }\n\n  const defaults = jsonServer.defaults(defaultsOpts)\n  app.use(defaults)\n\n  if (routes) {\n    const rewriter = jsonServer.rewriter(routes)\n    app.use(rewriter)\n  }\n\n  if (middlewares) {\n    app.use(middlewares)\n  }\n\n  if (argv.delay) {\n    app.use(pause(argv.delay))\n  }\n\n  router.db._.id = argv.id\n  app.db = router.db\n  app.use(router)\n\n  return app\n}\n\nmodule.exports = function (argv) {\n  const source = argv._[0]\n  let app\n  let server\n\n  if (!fs.existsSync(argv.snapshots)) {\n    console.log(`Error: snapshots directory ${argv.snapshots} doesn't exist`)\n    process.exit(1)\n  }\n\n  // noop log fn\n  if (argv.quiet) {\n    console.log = () => {}\n  }\n\n  console.log()\n  console.log(chalk.cyan('  \\\\{^_^}/ hi!'))\n\n  function start(cb) {\n    console.log()\n\n    console.log(chalk.gray('  Loading', source))\n\n    server = undefined\n\n    // create db and load object, JSON file, JS or HTTP database\n    return load(source).then((db) => {\n      // Load additional routes\n      let routes\n      if (argv.routes) {\n        console.log(chalk.gray('  Loading', argv.routes))\n        routes = JSON.parse(fs.readFileSync(argv.routes))\n      }\n\n      // Load middlewares\n      let middlewares\n      if (argv.middlewares) {\n        middlewares = argv.middlewares.map(function (m) {\n          console.log(chalk.gray('  Loading', m))\n          return require(path.resolve(m))\n        })\n      }\n\n      // Done\n      console.log(chalk.gray('  Done'))\n\n      // Create app and server\n      app = createApp(db, routes, middlewares, argv)\n      server = app.listen(argv.port, argv.host)\n\n      // Enhance with a destroy function\n      enableDestroy(server)\n\n      // Display server informations\n      prettyPrint(argv, db.getState(), routes)\n\n      // Catch and handle any error occurring in the server process\n      process.on('uncaughtException', (error) => {\n        if (error.errno === 'EADDRINUSE')\n          console.log(\n            chalk.red(\n              `Cannot bind to the port ${error.port}. Please specify another port number either through --port argument or through the json-server.json configuration file`\n            )\n          )\n        else console.log('Some error occurred', error)\n        process.exit(1)\n      })\n    })\n  }\n\n  // Start server\n  start()\n    .then(() => {\n      // Snapshot\n      console.log(\n        chalk.gray(\n          '  Type s + enter at any time to create a snapshot of the database'\n        )\n      )\n\n      // Support nohup\n      // https://github.com/typicode/json-server/issues/221\n      process.stdin.on('error', () => {\n        console.log(`  Error, can't read from stdin`)\n        console.log(`  Creating a snapshot from the CLI won't be possible`)\n      })\n      process.stdin.setEncoding('utf8')\n      process.stdin.on('data', (chunk) => {\n        if (chunk.trim().toLowerCase() === 's') {\n          const filename = `db-${Date.now()}.json`\n          const file = path.join(argv.snapshots, filename)\n          const state = app.db.getState()\n          fs.writeFileSync(file, JSON.stringify(state, null, 2), 'utf-8')\n          console.log(\n            `  Saved snapshot to ${path.relative(process.cwd(), file)}\\n`\n          )\n        }\n      })\n\n      // Watch files\n      if (argv.watch) {\n        console.log(chalk.gray('  Watching...'))\n        console.log()\n        const source = argv._[0]\n\n        // Can't watch URL\n        if (is.URL(source)) throw new Error(\"Can't watch URL\")\n\n        // Watch .js or .json file\n        // Since lowdb uses atomic writing, directory is watched instead of file\n        const watchedDir = path.dirname(source)\n        let readError = false\n        fs.watch(watchedDir, (event, file) => {\n          // https://github.com/typicode/json-server/issues/420\n          // file can be null\n          if (file) {\n            const watchedFile = path.resolve(watchedDir, file)\n            if (watchedFile === path.resolve(source)) {\n              if (is.FILE(watchedFile)) {\n                let obj\n                try {\n                  obj = jph.parse(fs.readFileSync(watchedFile))\n                  if (readError) {\n                    console.log(chalk.green(`  Read error has been fixed :)`))\n                    readError = false\n                  }\n                } catch (e) {\n                  readError = true\n                  console.log(chalk.red(`  Error reading ${watchedFile}`))\n                  console.error(e.message)\n                  return\n                }\n\n                // Compare .json file content with in memory database\n                const isDatabaseDifferent = !_.isEqual(obj, app.db.getState())\n                if (isDatabaseDifferent) {\n                  console.log(\n                    chalk.gray(`  ${source} has changed, reloading...`)\n                  )\n                  server && server.destroy(() => start())\n                }\n              }\n            }\n          }\n        })\n\n        // Watch routes\n        if (argv.routes) {\n          const watchedDir = path.dirname(argv.routes)\n          fs.watch(watchedDir, (event, file) => {\n            if (file) {\n              const watchedFile = path.resolve(watchedDir, file)\n              if (watchedFile === path.resolve(argv.routes)) {\n                console.log(\n                  chalk.gray(`  ${argv.routes} has changed, reloading...`)\n                )\n                server && server.destroy(() => start())\n              }\n            }\n          })\n        }\n      }\n    })\n    .catch((err) => {\n      console.log(err)\n      process.exit(1)\n    })\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/cli/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/cli/utils/is.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/is.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/is.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/is.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/",
        "sourceFileName": "is.js"
      }
    },
    "ast": null,
    "code": "module.exports = {\n  FILE,\n  JS,\n  URL\n};\n\nfunction FILE(s) {\n  return !URL(s) && /\\.json$/.test(s);\n}\n\nfunction JS(s) {\n  return !URL(s) && /\\.js$/.test(s);\n}\n\nfunction URL(s) {\n  return /^(http|https):/.test(s);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJGSUxFIiwiSlMiLCJVUkwiLCJzIiwidGVzdCJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmQyxFQUFBQSxJQURlO0FBRWZDLEVBQUFBLEVBRmU7QUFHZkMsRUFBQUE7QUFIZSxDQUFqQjs7QUFNQSxTQUFTRixJQUFULENBQWNHLENBQWQsRUFBaUI7QUFDZixTQUFPLENBQUNELEdBQUcsQ0FBQ0MsQ0FBRCxDQUFKLElBQVcsVUFBVUMsSUFBVixDQUFlRCxDQUFmLENBQWxCO0FBQ0Q7O0FBRUQsU0FBU0YsRUFBVCxDQUFZRSxDQUFaLEVBQWU7QUFDYixTQUFPLENBQUNELEdBQUcsQ0FBQ0MsQ0FBRCxDQUFKLElBQVcsUUFBUUMsSUFBUixDQUFhRCxDQUFiLENBQWxCO0FBQ0Q7O0FBRUQsU0FBU0QsR0FBVCxDQUFhQyxDQUFiLEVBQWdCO0FBQ2QsU0FBTyxpQkFBaUJDLElBQWpCLENBQXNCRCxDQUF0QixDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hcmluYW1hcmluYS9EZXNrdG9wL3Rlc3Rpbmcvc2VydmVyL3NyYy9jbGkvdXRpbHMvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gIEZJTEUsXG4gIEpTLFxuICBVUkwsXG59XG5cbmZ1bmN0aW9uIEZJTEUocykge1xuICByZXR1cm4gIVVSTChzKSAmJiAvXFwuanNvbiQvLnRlc3Qocylcbn1cblxuZnVuY3Rpb24gSlMocykge1xuICByZXR1cm4gIVVSTChzKSAmJiAvXFwuanMkLy50ZXN0KHMpXG59XG5cbmZ1bmN0aW9uIFVSTChzKSB7XG4gIHJldHVybiAvXihodHRwfGh0dHBzKTovLnRlc3Qocylcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "is.js"
      ],
      "names": [
        "module",
        "exports",
        "FILE",
        "JS",
        "URL",
        "s",
        "test"
      ],
      "mappings": "AAAAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,IADe;AAEfC,EAAAA,EAFe;AAGfC,EAAAA;AAHe,CAAjB;;AAMA,SAASF,IAAT,CAAcG,CAAd,EAAiB;AACf,SAAO,CAACD,GAAG,CAACC,CAAD,CAAJ,IAAW,UAAUC,IAAV,CAAeD,CAAf,CAAlB;AACD;;AAED,SAASF,EAAT,CAAYE,CAAZ,EAAe;AACb,SAAO,CAACD,GAAG,CAACC,CAAD,CAAJ,IAAW,QAAQC,IAAR,CAAaD,CAAb,CAAlB;AACD;;AAED,SAASD,GAAT,CAAaC,CAAb,EAAgB;AACd,SAAO,iBAAiBC,IAAjB,CAAsBD,CAAtB,CAAP;AACD",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/",
      "sourcesContent": [
        "module.exports = {\n  FILE,\n  JS,\n  URL,\n}\n\nfunction FILE(s) {\n  return !URL(s) && /\\.json$/.test(s)\n}\n\nfunction JS(s) {\n  return !URL(s) && /\\.js$/.test(s)\n}\n\nfunction URL(s) {\n  return /^(http|https):/.test(s)\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/cli/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/cli/utils/load.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/load.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/load.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/load.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/",
        "sourceFileName": "load.js"
      }
    },
    "ast": null,
    "code": "const fs = require('fs');\n\nconst path = require('path');\n\nconst http = require('http');\n\nconst https = require('https');\n\nconst low = require('lowdb');\n\nconst FileAsync = require('lowdb/adapters/FileAsync');\n\nconst Memory = require('lowdb/adapters/Memory');\n\nconst is = require('./is');\n\nconst chalk = require('chalk');\n\nconst example = {\n  posts: [{\n    id: 1,\n    title: 'json-server',\n    author: 'typicode'\n  }],\n  comments: [{\n    id: 1,\n    body: 'some comment',\n    postId: 1\n  }],\n  profile: {\n    name: 'typicode'\n  }\n};\n\nmodule.exports = function (source) {\n  return new Promise((resolve, reject) => {\n    if (is.FILE(source)) {\n      if (!fs.existsSync(source)) {\n        console.log(chalk.yellow(`  Oops, ${source} doesn't seem to exist`));\n        console.log(chalk.yellow(`  Creating ${source} with some default data`));\n        console.log();\n        fs.writeFileSync(source, JSON.stringify(example, null, 2));\n      }\n\n      resolve(low(new FileAsync(source)));\n    } else if (is.URL(source)) {\n      // Normalize the source into a URL object.\n      const sourceUrl = new URL(source); // Pick the client based on the protocol scheme\n\n      const client = sourceUrl.protocol === 'https:' ? https : http;\n      client.get(sourceUrl, res => {\n        let dbData = '';\n        res.on('data', data => {\n          dbData += data;\n        });\n        res.on('end', () => {\n          resolve(low(new Memory()).setState(JSON.parse(dbData)));\n        });\n      }).on('error', error => {\n        return reject(error);\n      });\n    } else if (is.JS(source)) {\n      // Clear cache\n      const filename = path.resolve(source);\n      delete require.cache[filename];\n\n      const dataFn = require(filename);\n\n      if (typeof dataFn !== 'function') {\n        throw new Error('The database is a JavaScript file but the export is not a function.');\n      } // Run dataFn to generate data\n\n\n      const data = dataFn();\n      resolve(low(new Memory()).setState(data));\n    } else {\n      throw new Error(`Unsupported source ${source}`);\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYWQuanMiXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwicGF0aCIsImh0dHAiLCJodHRwcyIsImxvdyIsIkZpbGVBc3luYyIsIk1lbW9yeSIsImlzIiwiY2hhbGsiLCJleGFtcGxlIiwicG9zdHMiLCJpZCIsInRpdGxlIiwiYXV0aG9yIiwiY29tbWVudHMiLCJib2R5IiwicG9zdElkIiwicHJvZmlsZSIsIm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIiwic291cmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJGSUxFIiwiZXhpc3RzU3luYyIsImNvbnNvbGUiLCJsb2ciLCJ5ZWxsb3ciLCJ3cml0ZUZpbGVTeW5jIiwiSlNPTiIsInN0cmluZ2lmeSIsIlVSTCIsInNvdXJjZVVybCIsImNsaWVudCIsInByb3RvY29sIiwiZ2V0IiwicmVzIiwiZGJEYXRhIiwib24iLCJkYXRhIiwic2V0U3RhdGUiLCJwYXJzZSIsImVycm9yIiwiSlMiLCJmaWxlbmFtZSIsImNhY2hlIiwiZGF0YUZuIiwiRXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLElBQUQsQ0FBbEI7O0FBQ0EsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1HLEtBQUssR0FBR0gsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBQ0EsTUFBTUksR0FBRyxHQUFHSixPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFDQSxNQUFNSyxTQUFTLEdBQUdMLE9BQU8sQ0FBQywwQkFBRCxDQUF6Qjs7QUFDQSxNQUFNTSxNQUFNLEdBQUdOLE9BQU8sQ0FBQyx1QkFBRCxDQUF0Qjs7QUFDQSxNQUFNTyxFQUFFLEdBQUdQLE9BQU8sQ0FBQyxNQUFELENBQWxCOztBQUNBLE1BQU1RLEtBQUssR0FBR1IsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBRUEsTUFB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QixVQUF0QixFQUFrQztBQUNoQyxjQUFNLElBQUlDLEtBQUosQ0FDSixxRUFESSxDQUFOO0FBR0QsT0FWdUIsQ0FZeEI7OztBQUNBLFlBQU1SLElBQUksR0FBR08sTUFBTSxFQUFuQjtBQUNBekIsTUFBQUEsT0FBTyxDQUFDbkIsR0FBRyxDQUFDLElBQUlFLE1BQUosRUFBRCxDQUFILENBQWtCb0MsUUFBbEIsQ0FBMkJELElBQTNCLENBQUQsQ0FBUDtBQUNELEtBZk0sTUFlQTtBQUNMLFlBQU0sSUFBSVEsS0FBSixDQUFXLHNCQUFxQjVCLE1BQU8sRUFBdkMsQ0FBTjtBQUNEO0FBQ0YsR0FoRE0sQ0FBUDtBQWlERCxDQWxERCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFyaW5hbWFyaW5hL0Rlc2t0b3AvdGVzdGluZy9zZXJ2ZXIvc3JjL2NsaS91dGlscy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IGh0dHAgPSByZXF1aXJlKCdodHRwJylcbmNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKVxuY29uc3QgbG93ID0gcmVxdWlyZSgnbG93ZGInKVxuY29uc3QgRmlsZUFzeW5jID0gcmVxdWlyZSgnbG93ZGIvYWRhcHRlcnMvRmlsZUFzeW5jJylcbmNvbnN0IE1lbW9yeSA9IHJlcXVpcmUoJ2xvd2RiL2FkYXB0ZXJzL01lbW9yeScpXG5jb25zdCBpcyA9IHJlcXVpcmUoJy4vaXMnKVxuY29uc3QgY2hhbGsgPSByZXF1aXJlKCdjaGFsaycpXG5cbmNvbnN0IGV4YW1wbGUgPSB7XG4gIHBvc3RzOiBbeyBpZDogMSwgdGl0bGU6ICdqc29uLXNlcnZlcicsIGF1dGhvcjogJ3R5cGljb2RlJyB9XSxcbiAgY29tbWVudHM6IFt7IGlkOiAxLCBib2R5OiAnc29tZSBjb21tZW50JywgcG9zdElkOiAxIH1dLFxuICBwcm9maWxlOiB7IG5hbWU6ICd0eXBpY29kZScgfSxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKGlzLkZJTEUoc291cmNlKSkge1xuICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKHNvdXJjZSkpIHtcbiAgICAgICAgY29uc29sZS5sb2coY2hhbGsueWVsbG93KGAgIE9vcHMsICR7c291cmNlfSBkb2Vzbid0IHNlZW0gdG8gZXhpc3RgKSlcbiAgICAgICAgY29uc29sZS5sb2coY2hhbGsueWVsbG93KGAgIENyZWF0aW5nICR7c291cmNlfSB3aXRoIHNvbWUgZGVmYXVsdCBkYXRhYCkpXG4gICAgICAgIGNvbnNvbGUubG9nKClcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhzb3VyY2UsIEpTT04uc3RyaW5naWZ5KGV4YW1wbGUsIG51bGwsIDIpKVxuICAgICAgfVxuXG4gICAgICByZXNvbHZlKGxvdyhuZXcgRmlsZUFzeW5jKHNvdXJjZSkpKVxuICAgIH0gZWxzZSBpZiAoaXMuVVJMKHNvdXJjZSkpIHtcbiAgICAgIC8vIE5vcm1hbGl6ZSB0aGUgc291cmNlIGludG8gYSBVUkwgb2JqZWN0LlxuICAgICAgY29uc3Qgc291cmNlVXJsID0gbmV3IFVSTChzb3VyY2UpXG4gICAgICAvLyBQaWNrIHRoZSBjbGllbnQgYmFzZWQgb24gdGhlIHByb3RvY29sIHNjaGVtZVxuICAgICAgY29uc3QgY2xpZW50ID0gc291cmNlVXJsLnByb3RvY29sID09PSAnaHR0cHM6JyA/IGh0dHBzIDogaHR0cFxuXG4gICAgICBjbGllbnRcbiAgICAgICAgLmdldChzb3VyY2VVcmwsIChyZXMpID0+IHtcbiAgICAgICAgICBsZXQgZGJEYXRhID0gJydcbiAgICAgICAgICByZXMub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgZGJEYXRhICs9IGRhdGFcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGxvdyhuZXcgTWVtb3J5KCkpLnNldFN0YXRlKEpTT04ucGFyc2UoZGJEYXRhKSkpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpXG4gICAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChpcy5KUyhzb3VyY2UpKSB7XG4gICAgICAvLyBDbGVhciBjYWNoZVxuICAgICAgY29uc3QgZmlsZW5hbWUgPSBwYXRoLnJlc29sdmUoc291cmNlKVxuICAgICAgZGVsZXRlIHJlcXVpcmUuY2FjaGVbZmlsZW5hbWVdXG4gICAgICBjb25zdCBkYXRhRm4gPSByZXF1aXJlKGZpbGVuYW1lKVxuXG4gICAgICBpZiAodHlwZW9mIGRhdGFGbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1RoZSBkYXRhYmFzZSBpcyBhIEphdmFTY3JpcHQgZmlsZSBidXQgdGhlIGV4cG9ydCBpcyBub3QgYSBmdW5jdGlvbi4nXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgLy8gUnVuIGRhdGFGbiB0byBnZW5lcmF0ZSBkYXRhXG4gICAgICBjb25zdCBkYXRhID0gZGF0YUZuKClcbiAgICAgIHJlc29sdmUobG93KG5ldyBNZW1vcnkoKSkuc2V0U3RhdGUoZGF0YSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgc291cmNlICR7c291cmNlfWApXG4gICAgfVxuICB9KVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "load.js"
      ],
      "names": [
        "fs",
        "require",
        "path",
        "http",
        "https",
        "low",
        "FileAsync",
        "Memory",
        "is",
        "chalk",
        "example",
        "posts",
        "id",
        "title",
        "author",
        "comments",
        "body",
        "postId",
        "profile",
        "name",
        "module",
        "exports",
        "source",
        "Promise",
        "resolve",
        "reject",
        "FILE",
        "existsSync",
        "console",
        "log",
        "yellow",
        "writeFileSync",
        "JSON",
        "stringify",
        "URL",
        "sourceUrl",
        "client",
        "protocol",
        "get",
        "res",
        "dbData",
        "on",
        "data",
        "setState",
        "parse",
        "error",
        "JS",
        "filename",
        "cache",
        "dataFn",
        "Error"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/cli/utils/",
      "sourcesContent": [
        "const fs = require('fs')\nconst path = require('path')\nconst http = require('http')\nconst https = require('https')\nconst low = require('lowdb')\nconst FileAsync = require('lowdb/adapters/FileAsync')\nconst Memory = require('lowdb/adapters/Memory')\nconst is = require('./is')\nconst chalk = require('chalk')\n\nconst example = {\n  posts: [{ id: 1, title: 'json-server', author: 'typicode' }],\n  comments: [{ id: 1, body: 'some comment', postId: 1 }],\n  profile: { name: 'typicode' },\n}\n\nmodule.exports = function (source) {\n  return new Promise((resolve, reject) => {\n    if (is.FILE(source)) {\n      if (!fs.existsSync(source)) {\n        console.log(chalk.yellow(`  Oops, ${source} doesn't seem to exist`))\n        console.log(chalk.yellow(`  Creating ${source} with some default data`))\n        console.log()\n        fs.writeFileSync(source, JSON.stringify(example, null, 2))\n      }\n\n      resolve(low(new FileAsync(source)))\n    } else if (is.URL(source)) {\n      // Normalize the source into a URL object.\n      const sourceUrl = new URL(source)\n      // Pick the client based on the protocol scheme\n      const client = sourceUrl.protocol === 'https:' ? https : http\n\n      client\n        .get(sourceUrl, (res) => {\n          let dbData = ''\n          res.on('data', (data) => {\n            dbData += data\n          })\n\n          res.on('end', () => {\n            resolve(low(new Memory()).setState(JSON.parse(dbData)))\n          })\n        })\n        .on('error', (error) => {\n          return reject(error)\n        })\n    } else if (is.JS(source)) {\n      // Clear cache\n      const filename = path.resolve(source)\n      delete require.cache[filename]\n      const dataFn = require(filename)\n\n      if (typeof dataFn !== 'function') {\n        throw new Error(\n          'The database is a JavaScript file but the export is not a function.'\n        )\n      }\n\n      // Run dataFn to generate data\n      const data = dataFn()\n      resolve(low(new Memory()).setState(data))\n    } else {\n      throw new Error(`Unsupported source ${source}`)\n    }\n  })\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nmodule.exports = {\n  create: () => express().set('json spaces', 2),\n  defaults: require('./defaults'),\n  router: require('./router'),\n  rewriter: require('./rewriter'),\n  bodyParser: require('./body-parser')\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZSIsInNldCIsImRlZmF1bHRzIiwicm91dGVyIiwicmV3cml0ZXIiLCJib2R5UGFyc2VyIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDZkMsRUFBQUEsTUFBTSxFQUFFLE1BQU1KLE9BQU8sR0FBR0ssR0FBVixDQUFjLGFBQWQsRUFBNkIsQ0FBN0IsQ0FEQztBQUVmQyxFQUFBQSxRQUFRLEVBQUVMLE9BQU8sQ0FBQyxZQUFELENBRkY7QUFHZk0sRUFBQUEsTUFBTSxFQUFFTixPQUFPLENBQUMsVUFBRCxDQUhBO0FBSWZPLEVBQUFBLFFBQVEsRUFBRVAsT0FBTyxDQUFDLFlBQUQsQ0FKRjtBQUtmUSxFQUFBQSxVQUFVLEVBQUVSLE9BQU8sQ0FBQyxlQUFEO0FBTEosQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hcmluYW1hcmluYS9EZXNrdG9wL3Rlc3Rpbmcvc2VydmVyL3NyYy9zZXJ2ZXIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlOiAoKSA9PiBleHByZXNzKCkuc2V0KCdqc29uIHNwYWNlcycsIDIpLFxuICBkZWZhdWx0czogcmVxdWlyZSgnLi9kZWZhdWx0cycpLFxuICByb3V0ZXI6IHJlcXVpcmUoJy4vcm91dGVyJyksXG4gIHJld3JpdGVyOiByZXF1aXJlKCcuL3Jld3JpdGVyJyksXG4gIGJvZHlQYXJzZXI6IHJlcXVpcmUoJy4vYm9keS1wYXJzZXInKSxcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "module",
        "exports",
        "create",
        "set",
        "defaults",
        "router",
        "rewriter",
        "bodyParser"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,MAAM,EAAE,MAAMJ,OAAO,GAAGK,GAAV,CAAc,aAAd,EAA6B,CAA7B,CADC;AAEfC,EAAAA,QAAQ,EAAEL,OAAO,CAAC,YAAD,CAFF;AAGfM,EAAAA,MAAM,EAAEN,OAAO,CAAC,UAAD,CAHA;AAIfO,EAAAA,QAAQ,EAAEP,OAAO,CAAC,YAAD,CAJF;AAKfQ,EAAAA,UAAU,EAAER,OAAO,CAAC,eAAD;AALJ,CAAjB",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "sourcesContent": [
        "const express = require('express')\n\nmodule.exports = {\n  create: () => express().set('json spaces', 2),\n  defaults: require('./defaults'),\n  router: require('./router'),\n  rewriter: require('./rewriter'),\n  bodyParser: require('./body-parser'),\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/defaults.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/defaults.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/defaults.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/defaults.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
        "sourceFileName": "defaults.js"
      }
    },
    "ast": null,
    "code": "const fs = require('fs');\n\nconst path = require('path');\n\nconst express = require('express');\n\nconst logger = require('morgan');\n\nconst cors = require('cors');\n\nconst compression = require('compression');\n\nconst errorhandler = require('errorhandler');\n\nconst bodyParser = require('./body-parser');\n\nmodule.exports = function (opts) {\n  const userDir = path.join(process.cwd(), 'public');\n  const defaultDir = path.join(__dirname, '../../public');\n  const staticDir = fs.existsSync(userDir) ? userDir : defaultDir;\n  opts = Object.assign({\n    logger: true,\n    static: staticDir\n  }, opts);\n  const arr = []; // Compress all requests\n\n  if (!opts.noGzip) {\n    arr.push(compression());\n  } // Enable CORS for all the requests, including static files\n\n\n  if (!opts.noCors) {\n    arr.push(cors({\n      origin: true,\n      credentials: true\n    }));\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    // only use in development\n    arr.push(errorhandler());\n  } // Serve static files\n\n\n  arr.push(express.static(opts.static)); // Logger\n\n  if (opts.logger) {\n    arr.push(logger('dev', {\n      skip: req => process.env.NODE_ENV === 'test' || req.path === '/favicon.ico'\n    }));\n  } // No cache for IE\n  // https://support.microsoft.com/en-us/kb/234067\n\n\n  arr.push((req, res, next) => {\n    res.header('Cache-Control', 'no-cache');\n    res.header('Pragma', 'no-cache');\n    res.header('Expires', '-1');\n    next();\n  }); // Read-only\n\n  if (opts.readOnly) {\n    arr.push((req, res, next) => {\n      if (req.method === 'GET') {\n        next(); // Continue\n      } else {\n        res.sendStatus(403); // Forbidden\n      }\n    });\n  } // Add middlewares\n\n\n  if (opts.bodyParser) {\n    arr.push(bodyParser);\n  }\n\n  return arr;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlZmF1bHRzLmpzIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJleHByZXNzIiwibG9nZ2VyIiwiY29ycyIsImNvbXByZXNzaW9uIiwiZXJyb3JoYW5kbGVyIiwiYm9keVBhcnNlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJvcHRzIiwidXNlckRpciIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZGVmYXVsdERpciIsIl9fZGlybmFtZSIsInN0YXRpY0RpciIsImV4aXN0c1N5bmMiLCJPYmplY3QiLCJhc3NpZ24iLCJzdGF0aWMiLCJhcnIiLCJub0d6aXAiLCJwdXNoIiwibm9Db3JzIiwib3JpZ2luIiwiY3JlZGVudGlhbHMiLCJlbnYiLCJOT0RFX0VOViIsInNraXAiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwicmVhZE9ubHkiLCJtZXRob2QiLCJzZW5kU3RhdHVzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFELENBQWxCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsT0FBTyxHQUFHRixPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNRyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1JLElBQUksR0FBR0osT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUssV0FBVyxHQUFHTCxPQUFPLENBQUMsYUFBRCxDQUEzQjs7QUFDQSxNQUFNTSxZQUFZLEdBQUdOLE9BQU8sQ0FBQyxjQUFELENBQTVCOztBQUNBLE1BQU1PLFVBQVUsR0FBR1AsT0FBTyxDQUFDLGVBQUQsQ0FBMUI7O0FBRUFRLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFVQyxJQUFWLEVBQWdCO0FBQy9CLFFBQU1DLE9BQU8sR0FBR1YsSUFBSSxDQUFDVyxJQUFMLENBQVVDLE9BQU8sQ0FBQ0MsR0FBUixFQUFWLEVBQXlCLFFBQXpCLENBQWhCO0FBQ0EsUUFBTUMsVUFBVSxHQUFHZCxJQUFJLENBQUNXLElBQUwsQ0FBVUksU0FBVixFQUFxQixjQUFyQixDQUFuQjtBQUNBLFFBQU1DLFNBQVMsR0FBR2xCLEVBQUUsQ0FBQ21CLFVBQUgsQ0FBY1AsT0FBZCxJQUF5QkEsT0FBekIsR0FBbUNJLFVBQXJEO0FBRUFMLEVBQUFBLElBQUksR0FBR1MsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFBRWpCLElBQUFBLE1BQU0sRUFBRSxJQUFWO0FBQWdCa0IsSUFBQUEsTUFBTSxFQUFFSjtBQUF4QixHQUFkLEVBQW1EUCxJQUFuRCxDQUFQO0FBRUEsUUFBTVksR0FBRyxHQUFHLEVBQVosQ0FQK0IsQ0FTL0I7O0FBQ0EsTUFBSSxDQUFDWixJQUFJLENBQUNhLE1BQVYsRUFBa0I7QUFDaEJELElBQUFBLEdBQUcsQ0FBQ0UsSUFBSixDQUFTbkIsV0FBVyxFQUFwQjtBQUNELEdBWjhCLENBYy9COzs7QUFDQSxNQUFJLENBQUNLLElBQUksQ0FBQ2UsTUFBVixFQUFrQjtBQUNoQkgsSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQVNwQixJQUFJLENBQUM7QUFBRXNCLE1BQUFBLE1BQU0sRUFBRSxJQUFWO0FBQWdCQyxNQUFBQSxXQUFXLEVBQUU7QUFBN0IsS0FBRCxDQUFiO0FBQ0Q7O0FBRUQsTUFBSWQsT0FBTyxDQUFDZSxHQUFSLENBQVlDLFFBQVosS0FBeUIsYUFBN0IsRUFBNEM7QUFDMUM7QUFDQVAsSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQVNsQixZQUFZLEVBQXJCO0FBQ0QsR0F0QjhCLENBd0IvQjs7O0FBQ0FnQixFQUFBQSxHQUFHLENBQUNFLElBQUosQ0FBU3RCLE9BQU8sQ0FBQ21CLE1BQVIsQ0FBZVgsSUFBSSxDQUFDVyxNQUFwQixDQUFULEVBekIrQixDQTJCL0I7O0FBQ0EsTUFBSVgsSUFBSSxDQUFDUCxNQUFULEVBQWlCO0FBQ2ZtQixJQUFBQSxHQUFHLENBQUNFLElBQUosQ0FDRXJCLE1BQU0sQ0FBQyxLQUFELEVBQVE7QUFDWjJCLE1BQUFBLElBQUksRUFBR0MsR0FBRCxJQUNKbEIsT0FBTyxDQUFDZSxHQUFSLENBQVlDLFFBQVosS0FBeUIsTUFBekIsSUFBbUNFLEdBQUcsQ0FBQzlCLElBQUosS0FBYTtBQUZ0QyxLQUFSLENBRFI7QUFNRCxHQW5DOEIsQ0FxQy9CO0FBQ0E7OztBQUNBcUIsRUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQVMsQ0FBQ08sR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDM0JELElBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLGVBQVgsRUFBNEIsVUFBNUI7QUFDQUYsSUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsUUFBWCxFQUFxQixVQUFyQjtBQUNBRixJQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyxTQUFYLEVBQXNCLElBQXRCO0FBQ0FELElBQUFBLElBQUk7QUFDTCxHQUxELEVBdkMrQixDQThDL0I7O0FBQ0EsTUFBSXZCLElBQUksQ0FBQ3lCLFFBQVQsRUFBbUI7QUFDakJiLElBQUFBLEdBQUcsQ0FBQ0UsSUFBSixDQUFTLENBQUNPLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzNCLFVBQUlGLEdBQUcsQ0FBQ0ssTUFBSixLQUFlLEtBQW5CLEVBQTBCO0FBQ3hCSCxRQUFBQSxJQUFJLEdBRG9CLENBQ2pCO0FBQ1IsT0FGRCxNQUVPO0FBQ0xELFFBQUFBLEdBQUcsQ0FBQ0ssVUFBSixDQUFlLEdBQWYsRUFESyxDQUNlO0FBQ3JCO0FBQ0YsS0FORDtBQU9ELEdBdkQ4QixDQXlEL0I7OztBQUNBLE1BQUkzQixJQUFJLENBQUNILFVBQVQsRUFBcUI7QUFDbkJlLElBQUFBLEdBQUcsQ0FBQ0UsSUFBSixDQUFTakIsVUFBVDtBQUNEOztBQUVELFNBQU9lLEdBQVA7QUFDRCxDQS9ERCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFyaW5hbWFyaW5hL0Rlc2t0b3AvdGVzdGluZy9zZXJ2ZXIvc3JjL3NlcnZlci8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcbmNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoJ21vcmdhbicpXG5jb25zdCBjb3JzID0gcmVxdWlyZSgnY29ycycpXG5jb25zdCBjb21wcmVzc2lvbiA9IHJlcXVpcmUoJ2NvbXByZXNzaW9uJylcbmNvbnN0IGVycm9yaGFuZGxlciA9IHJlcXVpcmUoJ2Vycm9yaGFuZGxlcicpXG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnLi9ib2R5LXBhcnNlcicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgY29uc3QgdXNlckRpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJylcbiAgY29uc3QgZGVmYXVsdERpciA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi8uLi9wdWJsaWMnKVxuICBjb25zdCBzdGF0aWNEaXIgPSBmcy5leGlzdHNTeW5jKHVzZXJEaXIpID8gdXNlckRpciA6IGRlZmF1bHREaXJcblxuICBvcHRzID0gT2JqZWN0LmFzc2lnbih7IGxvZ2dlcjogdHJ1ZSwgc3RhdGljOiBzdGF0aWNEaXIgfSwgb3B0cylcblxuICBjb25zdCBhcnIgPSBbXVxuXG4gIC8vIENvbXByZXNzIGFsbCByZXF1ZXN0c1xuICBpZiAoIW9wdHMubm9HemlwKSB7XG4gICAgYXJyLnB1c2goY29tcHJlc3Npb24oKSlcbiAgfVxuXG4gIC8vIEVuYWJsZSBDT1JTIGZvciBhbGwgdGhlIHJlcXVlc3RzLCBpbmNsdWRpbmcgc3RhdGljIGZpbGVzXG4gIGlmICghb3B0cy5ub0NvcnMpIHtcbiAgICBhcnIucHVzaChjb3JzKHsgb3JpZ2luOiB0cnVlLCBjcmVkZW50aWFsczogdHJ1ZSB9KSlcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgIC8vIG9ubHkgdXNlIGluIGRldmVsb3BtZW50XG4gICAgYXJyLnB1c2goZXJyb3JoYW5kbGVyKCkpXG4gIH1cblxuICAvLyBTZXJ2ZSBzdGF0aWMgZmlsZXNcbiAgYXJyLnB1c2goZXhwcmVzcy5zdGF0aWMob3B0cy5zdGF0aWMpKVxuXG4gIC8vIExvZ2dlclxuICBpZiAob3B0cy5sb2dnZXIpIHtcbiAgICBhcnIucHVzaChcbiAgICAgIGxvZ2dlcignZGV2Jywge1xuICAgICAgICBza2lwOiAocmVxKSA9PlxuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcgfHwgcmVxLnBhdGggPT09ICcvZmF2aWNvbi5pY28nLFxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICAvLyBObyBjYWNoZSBmb3IgSUVcbiAgLy8gaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4tdXMva2IvMjM0MDY3XG4gIGFyci5wdXNoKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tY2FjaGUnKVxuICAgIHJlcy5oZWFkZXIoJ1ByYWdtYScsICduby1jYWNoZScpXG4gICAgcmVzLmhlYWRlcignRXhwaXJlcycsICctMScpXG4gICAgbmV4dCgpXG4gIH0pXG5cbiAgLy8gUmVhZC1vbmx5XG4gIGlmIChvcHRzLnJlYWRPbmx5KSB7XG4gICAgYXJyLnB1c2goKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAgICAgbmV4dCgpIC8vIENvbnRpbnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc2VuZFN0YXR1cyg0MDMpIC8vIEZvcmJpZGRlblxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBBZGQgbWlkZGxld2FyZXNcbiAgaWYgKG9wdHMuYm9keVBhcnNlcikge1xuICAgIGFyci5wdXNoKGJvZHlQYXJzZXIpXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "defaults.js"
      ],
      "names": [
        "fs",
        "require",
        "path",
        "express",
        "logger",
        "cors",
        "compression",
        "errorhandler",
        "bodyParser",
        "module",
        "exports",
        "opts",
        "userDir",
        "join",
        "process",
        "cwd",
        "defaultDir",
        "__dirname",
        "staticDir",
        "existsSync",
        "Object",
        "assign",
        "static",
        "arr",
        "noGzip",
        "push",
        "noCors",
        "origin",
        "credentials",
        "env",
        "NODE_ENV",
        "skip",
        "req",
        "res",
        "next",
        "header",
        "readOnly",
        "method",
        "sendStatus"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "sourcesContent": [
        "const fs = require('fs')\nconst path = require('path')\nconst express = require('express')\nconst logger = require('morgan')\nconst cors = require('cors')\nconst compression = require('compression')\nconst errorhandler = require('errorhandler')\nconst bodyParser = require('./body-parser')\n\nmodule.exports = function (opts) {\n  const userDir = path.join(process.cwd(), 'public')\n  const defaultDir = path.join(__dirname, '../../public')\n  const staticDir = fs.existsSync(userDir) ? userDir : defaultDir\n\n  opts = Object.assign({ logger: true, static: staticDir }, opts)\n\n  const arr = []\n\n  // Compress all requests\n  if (!opts.noGzip) {\n    arr.push(compression())\n  }\n\n  // Enable CORS for all the requests, including static files\n  if (!opts.noCors) {\n    arr.push(cors({ origin: true, credentials: true }))\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    // only use in development\n    arr.push(errorhandler())\n  }\n\n  // Serve static files\n  arr.push(express.static(opts.static))\n\n  // Logger\n  if (opts.logger) {\n    arr.push(\n      logger('dev', {\n        skip: (req) =>\n          process.env.NODE_ENV === 'test' || req.path === '/favicon.ico',\n      })\n    )\n  }\n\n  // No cache for IE\n  // https://support.microsoft.com/en-us/kb/234067\n  arr.push((req, res, next) => {\n    res.header('Cache-Control', 'no-cache')\n    res.header('Pragma', 'no-cache')\n    res.header('Expires', '-1')\n    next()\n  })\n\n  // Read-only\n  if (opts.readOnly) {\n    arr.push((req, res, next) => {\n      if (req.method === 'GET') {\n        next() // Continue\n      } else {\n        res.sendStatus(403) // Forbidden\n      }\n    })\n  }\n\n  // Add middlewares\n  if (opts.bodyParser) {\n    arr.push(bodyParser)\n  }\n\n  return arr\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/body-parser.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/body-parser.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/body-parser.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/body-parser.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
        "sourceFileName": "body-parser.js"
      }
    },
    "ast": null,
    "code": "const bodyParser = require('body-parser');\n\nmodule.exports = [bodyParser.json({\n  limit: '10mb',\n  extended: false\n}), bodyParser.urlencoded({\n  extended: false\n})];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvZHktcGFyc2VyLmpzIl0sIm5hbWVzIjpbImJvZHlQYXJzZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImpzb24iLCJsaW1pdCIsImV4dGVuZGVkIiwidXJsZW5jb2RlZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQ2ZILFVBQVUsQ0FBQ0ksSUFBWCxDQUFnQjtBQUFFQyxFQUFBQSxLQUFLLEVBQUUsTUFBVDtBQUFpQkMsRUFBQUEsUUFBUSxFQUFFO0FBQTNCLENBQWhCLENBRGUsRUFFZk4sVUFBVSxDQUFDTyxVQUFYLENBQXNCO0FBQUVELEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQXRCLENBRmUsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hcmluYW1hcmluYS9EZXNrdG9wL3Rlc3Rpbmcvc2VydmVyL3NyYy9zZXJ2ZXIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJylcblxubW9kdWxlLmV4cG9ydHMgPSBbXG4gIGJvZHlQYXJzZXIuanNvbih7IGxpbWl0OiAnMTBtYicsIGV4dGVuZGVkOiBmYWxzZSB9KSxcbiAgYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pLFxuXVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "body-parser.js"
      ],
      "names": [
        "bodyParser",
        "require",
        "module",
        "exports",
        "json",
        "limit",
        "extended",
        "urlencoded"
      ],
      "mappings": "AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CACfH,UAAU,CAACI,IAAX,CAAgB;AAAEC,EAAAA,KAAK,EAAE,MAAT;AAAiBC,EAAAA,QAAQ,EAAE;AAA3B,CAAhB,CADe,EAEfN,UAAU,CAACO,UAAX,CAAsB;AAAED,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAFe,CAAjB",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "sourcesContent": [
        "const bodyParser = require('body-parser')\n\nmodule.exports = [\n  bodyParser.json({ limit: '10mb', extended: false }),\n  bodyParser.urlencoded({ extended: false }),\n]\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/router/index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst methodOverride = require('method-override');\n\nconst _ = require('lodash');\n\nconst lodashId = require('lodash-id');\n\nconst low = require('lowdb');\n\nconst Memory = require('lowdb/adapters/Memory');\n\nconst FileSync = require('lowdb/adapters/FileSync');\n\nconst bodyParser = require('../body-parser');\n\nconst validateData = require('./validate-data');\n\nconst plural = require('./plural');\n\nconst nested = require('./nested');\n\nconst singular = require('./singular');\n\nconst mixins = require('../mixins');\n\nmodule.exports = (db, opts) => {\n  opts = Object.assign({\n    foreignKeySuffix: 'Id',\n    _isFake: false\n  }, opts);\n\n  if (typeof db === 'string') {\n    db = low(new FileSync(db));\n  } else if (!_.has(db, '__chain__') || !_.has(db, '__wrapped__')) {\n    db = low(new Memory()).setState(db);\n  } // Create router\n\n\n  const router = express.Router(); // Add middlewares\n\n  router.use(methodOverride());\n  router.use(bodyParser);\n  validateData(db.getState()); // Add lodash-id methods to db\n\n  db._.mixin(lodashId); // Add specific mixins\n\n\n  db._.mixin(mixins); // Expose database\n\n\n  router.db = db; // Expose render\n\n  router.render = (req, res) => {\n    // if it's a GET request and result is an Array\n    if (req.method === 'GET' && Array.isArray(res.locals.data)) {\n      res.json({\n        totalCount: res.get('X-Total-Count'),\n        items: res.locals.data\n      });\n    } else {\n      res.jsonp(res.locals.data);\n    }\n  }; // GET /db\n\n\n  router.get('/db', (req, res) => {\n    res.jsonp(db.getState());\n  }); // Handle /:parent/:parentId/:resource\n\n  router.use(nested(opts)); // Create routes\n\n  db.forEach((value, key) => {\n    if (_.isPlainObject(value)) {\n      router.use(`/${key}`, singular(db, key, opts));\n      return;\n    }\n\n    if (_.isArray(value)) {\n      router.use(`/${key}`, plural(db, key, opts));\n      return;\n    }\n\n    const sourceMessage = ''; // if (!_.isObject(source)) {\n    //   sourceMessage = `in ${source}`\n    // }\n\n    const msg = `Type of \"${key}\" (${typeof value}) ${sourceMessage} is not supported. ` + `Use objects or arrays of objects.`;\n    throw new Error(msg);\n  }).value();\n  router.use((req, res) => {\n    if (!res.locals.data) {\n      res.status(404);\n      res.locals.data = {};\n    }\n\n    router.render(req, res);\n  });\n  router.use((err, req, res, next) => {\n    console.error(err.stack);\n    res.status(500).send(err.stack);\n  });\n  return router;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwibWV0aG9kT3ZlcnJpZGUiLCJfIiwibG9kYXNoSWQiLCJsb3ciLCJNZW1vcnkiLCJGaWxlU3luYyIsImJvZHlQYXJzZXIiLCJ2YWxpZGF0ZURhdGEiLCJwbHVyYWwiLCJuZXN0ZWQiLCJzaW5ndWxhciIsIm1peGlucyIsIm1vZHVsZSIsImV4cG9ydHMiLCJkYiIsIm9wdHMiLCJPYmplY3QiLCJhc3NpZ24iLCJmb3JlaWduS2V5U3VmZml4IiwiX2lzRmFrZSIsImhhcyIsInNldFN0YXRlIiwicm91dGVyIiwiUm91dGVyIiwidXNlIiwiZ2V0U3RhdGUiLCJtaXhpbiIsInJlbmRlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsIkFycmF5IiwiaXNBcnJheSIsImxvY2FscyIsImRhdGEiLCJqc29uIiwidG90YWxDb3VudCIsImdldCIsIml0ZW1zIiwianNvbnAiLCJmb3JFYWNoIiwidmFsdWUiLCJrZXkiLCJpc1BsYWluT2JqZWN0Iiwic291cmNlTWVzc2FnZSIsIm1zZyIsIkVycm9yIiwic3RhdHVzIiwiZXJyIiwibmV4dCIsImNvbnNvbGUiLCJlcnJvciIsInN0YWNrIiwic2VuZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxjQUFjLEdBQUdELE9BQU8sQ0FBQyxpQkFBRCxDQUE5Qjs7QUFDQSxNQUFNRSxDQUFDLEdBQUdGLE9BQU8sQ0FBQyxRQUFELENBQWpCOztBQUNBLE1BQU1HLFFBQVEsR0FBR0gsT0FBTyxDQUFDLFdBQUQsQ0FBeEI7O0FBQ0EsTUFBTUksR0FBRyxHQUFHSixPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFDQSxNQUFNSyxNQUFNLEdBQUdMLE9BQU8sQ0FBQyx1QkFBRCxDQUF0Qjs7QUFDQSxNQUFNTSxRQUFRLEdBQUdOLE9BQU8sQ0FBQyx5QkFBRCxDQUF4Qjs7QUFDQSxNQUFNTyxVQUFVLEdB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QUFDRSxHQUFQLENBQVcsQ0FBQ3dCLEdBQUQsRUFBTXBCLEdBQU4sRUFBV0MsR0FBWCxFQUFnQm9CLElBQWhCLEtBQXlCO0FBQ2xDQyxJQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBY0gsR0FBRyxDQUFDSSxLQUFsQjtBQUNBdkIsSUFBQUEsR0FBRyxDQUFDa0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXFCTCxHQUFHLENBQUNJLEtBQXpCO0FBQ0QsR0FIRDtBQUtBLFNBQU85QixNQUFQO0FBQ0QsQ0F2RkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hcmluYW1hcmluYS9EZXNrdG9wL3Rlc3Rpbmcvc2VydmVyL3NyYy9zZXJ2ZXIvcm91dGVyLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcbmNvbnN0IG1ldGhvZE92ZXJyaWRlID0gcmVxdWlyZSgnbWV0aG9kLW92ZXJyaWRlJylcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKVxuY29uc3QgbG9kYXNoSWQgPSByZXF1aXJlKCdsb2Rhc2gtaWQnKVxuY29uc3QgbG93ID0gcmVxdWlyZSgnbG93ZGInKVxuY29uc3QgTWVtb3J5ID0gcmVxdWlyZSgnbG93ZGIvYWRhcHRlcnMvTWVtb3J5JylcbmNvbnN0IEZpbGVTeW5jID0gcmVxdWlyZSgnbG93ZGIvYWRhcHRlcnMvRmlsZVN5bmMnKVxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJy4uL2JvZHktcGFyc2VyJylcbmNvbnN0IHZhbGlkYXRlRGF0YSA9IHJlcXVpcmUoJy4vdmFsaWRhdGUtZGF0YScpXG5jb25zdCBwbHVyYWwgPSByZXF1aXJlKCcuL3BsdXJhbCcpXG5jb25zdCBuZXN0ZWQgPSByZXF1aXJlKCcuL25lc3RlZCcpXG5jb25zdCBzaW5ndWxhciA9IHJlcXVpcmUoJy4vc2luZ3VsYXInKVxuY29uc3QgbWl4aW5zID0gcmVxdWlyZSgnLi4vbWl4aW5zJylcblxubW9kdWxlLmV4cG9ydHMgPSAoZGIsIG9wdHMpID0+IHtcbiAgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyBmb3JlaWduS2V5U3VmZml4OiAnSWQnLCBfaXNGYWtlOiBmYWxzZSB9LCBvcHRzKVxuXG4gIGlmICh0eXBlb2YgZGIgPT09ICdzdHJpbmcnKSB7XG4gICAgZGIgPSBsb3cobmV3IEZpbGVTeW5jKGRiKSlcbiAgfSBlbHNlIGlmICghXy5oYXMoZGIsICdfX2NoYWluX18nKSB8fCAhXy5oYXMoZGIsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgZGIgPSBsb3cobmV3IE1lbW9yeSgpKS5zZXRTdGF0ZShkYilcbiAgfVxuXG4gIC8vIENyZWF0ZSByb3V0ZXJcbiAgY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxuXG4gIC8vIEFkZCBtaWRkbGV3YXJlc1xuICByb3V0ZXIudXNlKG1ldGhvZE92ZXJyaWRlKCkpXG4gIHJvdXRlci51c2UoYm9keVBhcnNlcilcblxuICB2YWxpZGF0ZURhdGEoZGIuZ2V0U3RhdGUoKSlcblxuICAvLyBBZGQgbG9kYXNoLWlkIG1ldGhvZHMgdG8gZGJcbiAgZGIuXy5taXhpbihsb2Rhc2hJZClcblxuICAvLyBBZGQgc3BlY2lmaWMgbWl4aW5zXG4gIGRiLl8ubWl4aW4obWl4aW5zKVxuXG4gIC8vIEV4cG9zZSBkYXRhYmFzZVxuICByb3V0ZXIuZGIgPSBkYlxuXG4gIC8vIEV4cG9zZSByZW5kZXJcbiAgcm91dGVyLnJlbmRlciA9IChyZXEsIHJlcykgPT4ge1xuICAgIC8vIGlmIGl0J3MgYSBHRVQgcmVxdWVzdCBhbmQgcmVzdWx0IGlzIGFuIEFycmF5XG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnICYmIEFycmF5LmlzQXJyYXkocmVzLmxvY2Fscy5kYXRhKSkge1xuICAgICAgcmVzLmpzb24oe1xuICAgICAgICB0b3RhbENvdW50OiByZXMuZ2V0KCdYLVRvdGFsLUNvdW50JyksXG4gICAgICAgIGl0ZW1zOiByZXMubG9jYWxzLmRhdGEsXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMuanNvbnAocmVzLmxvY2Fscy5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIC8vIEdFVCAvZGJcbiAgcm91dGVyLmdldCgnL2RiJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmpzb25wKGRiLmdldFN0YXRlKCkpXG4gIH0pXG5cbiAgLy8gSGFuZGxlIC86cGFyZW50LzpwYXJlbnRJZC86cmVzb3VyY2VcbiAgcm91dGVyLnVzZShuZXN0ZWQob3B0cykpXG5cbiAgLy8gQ3JlYXRlIHJvdXRlc1xuICBkYi5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgaWYgKF8uaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHJvdXRlci51c2UoYC8ke2tleX1gLCBzaW5ndWxhcihkYiwga2V5LCBvcHRzKSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICByb3V0ZXIudXNlKGAvJHtrZXl9YCwgcGx1cmFsKGRiLCBrZXksIG9wdHMpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3Qgc291cmNlTWVzc2FnZSA9ICcnXG4gICAgLy8gaWYgKCFfLmlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAvLyAgIHNvdXJjZU1lc3NhZ2UgPSBgaW4gJHtzb3VyY2V9YFxuICAgIC8vIH1cblxuICAgIGNvbnN0IG1zZyA9XG4gICAgICBgVHlwZSBvZiBcIiR7a2V5fVwiICgke3R5cGVvZiB2YWx1ZX0pICR7c291cmNlTWVzc2FnZX0gaXMgbm90IHN1cHBvcnRlZC4gYCArXG4gICAgICBgVXNlIG9iamVjdHMgb3IgYXJyYXlzIG9mIG9iamVjdHMuYFxuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZylcbiAgfSkudmFsdWUoKVxuXG4gIHJvdXRlci51c2UoKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKCFyZXMubG9jYWxzLmRhdGEpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KVxuICAgICAgcmVzLmxvY2Fscy5kYXRhID0ge31cbiAgICB9XG5cbiAgICByb3V0ZXIucmVuZGVyKHJlcSwgcmVzKVxuICB9KVxuXG4gIHJvdXRlci51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVyci5zdGFjaylcbiAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnIuc3RhY2spXG4gIH0pXG5cbiAgcmV0dXJuIHJvdXRlclxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "methodOverride",
        "_",
        "lodashId",
        "low",
        "Memory",
        "FileSync",
        "bodyParser",
        "validateData",
        "plural",
        "nested",
        "singular",
        "mixins",
        "module",
        "exports",
        "db",
        "opts",
        "Object",
        "assign",
        "foreignKeySuffix",
        "_isFake",
        "has",
        "setState",
        "router",
        "Router",
        "use",
        "getState",
        "mixin",
        "render",
        "req",
        "res",
        "method",
        "Array",
        "isArray",
        "locals",
        "data",
        "json",
        "totalCount",
        "get",
        "items",
        "jsonp",
        "forEach",
        "value",
        "key",
        "isPlainObject",
        "sourceMessage",
        "msg",
        "Error",
        "status",
        "err",
        "next",
        "console",
        "error",
        "stack",
        "send"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,iBAAD,CAA9B;;AACA,MAAME,CAAC,GAAGF,OAAO,CAAC,QAAD,CAAjB;;AACA,MAAMG,QAAQ,GAAGH,OAAO,CAAC,WAAD,CAAxB;;AACA,MAAMI,GAAG,GAAGJ,OAAO,CAAC,OAAD,CAAnB;;AACA,MAAMK,MAAM,GAAGL,OAAO,CAAC,uBAAD,CAAtB;;AACA,MAAMM,QAAQ,GAAGN,OAAO,CAAC,yBAAD,CAAxB;;AACA,MAAMO,UAAU,GAAGP,OAAO,CAAC,gBAAD,CAA1B;;AACA,MAAMQ,YAAY,GAAGR,OAAO,CAAC,iBAAD,CAA5B;;AACA,MAAMS,MAAM,GAAGT,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMU,MAAM,GAAGV,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMW,QAAQ,GAAGX,OAAO,CAAC,YAAD,CAAxB;;AACA,MAAMY,MAAM,GAAGZ,OAAO,CAAC,WAAD,CAAtB;;AAEAa,MAAM,CAACC,OAAP,GAAiB,CAACC,EAAD,EAAKC,IAAL,KAAc;AAC7BA,EAAAA,IAAI,GAAGC,MAAM,CAACC,MAAP,CAAc;AAAEC,IAAAA,gBAAgB,EAAE,IAApB;AAA0BC,IAAAA,OAAO,EAAE;AAAnC,GAAd,EAA0DJ,IAA1D,CAAP;;AAEA,MAAI,OAAOD,EAAP,KAAc,QAAlB,EAA4B;AAC1BA,IAAAA,EAAE,GAAGX,GAAG,CAAC,IAAIE,QAAJ,CAAaS,EAAb,CAAD,CAAR;AACD,GAFD,MAEO,IAAI,CAACb,CAAC,CAACmB,GAAF,CAAMN,EAAN,EAAU,WAAV,CAAD,IAA2B,CAACb,CAAC,CAACmB,GAAF,CAAMN,EAAN,EAAU,aAAV,CAAhC,EAA0D;AAC/DA,IAAAA,EAAE,GAAGX,GAAG,CAAC,IAAIC,MAAJ,EAAD,CAAH,CAAkBiB,QAAlB,CAA2BP,EAA3B,CAAL;AACD,GAP4B,CAS7B;;;AACA,QAAMQ,MAAM,GAAGxB,OAAO,CAACyB,MAAR,EAAf,CAV6B,CAY7B;;AACAD,EAAAA,MAAM,CAACE,GAAP,CAAWxB,cAAc,EAAzB;AACAsB,EAAAA,MAAM,CAACE,GAAP,CAAWlB,UAAX;AAEAC,EAAAA,YAAY,CAACO,EAAE,CAACW,QAAH,EAAD,CAAZ,CAhB6B,CAkB7B;;AACAX,EAAAA,EAAE,CAACb,CAAH,CAAKyB,KAAL,CAAWxB,QAAX,EAnB6B,CAqB7B;;;AACAY,EAAAA,EAAE,CAACb,CAAH,CAAKyB,KAAL,CAAWf,MAAX,EAtB6B,CAwB7B;;;AACAW,EAAAA,MAAM,CAACR,EAAP,GAAYA,EAAZ,CAzB6B,CA2B7B;;AACAQ,EAAAA,MAAM,CAACK,MAAP,GAAgB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC5B;AACA,QAAID,GAAG,CAACE,MAAJ,KAAe,KAAf,IAAwBC,KAAK,CAACC,OAAN,CAAcH,GAAG,CAACI,MAAJ,CAAWC,IAAzB,CAA5B,EAA4D;AAC1DL,MAAAA,GAAG,CAACM,IAAJ,CAAS;AACPC,QAAAA,UAAU,EAAEP,GAAG,CAACQ,GAAJ,CAAQ,eAAR,CADL;AAEPC,QAAAA,KAAK,EAAET,GAAG,CAACI,MAAJ,CAAWC;AAFX,OAAT;AAID,KALD,MAKO;AACLL,MAAAA,GAAG,CAACU,KAAJ,CAAUV,GAAG,CAACI,MAAJ,CAAWC,IAArB;AACD;AACF,GAVD,CA5B6B,CAwC7B;;;AACAZ,EAAAA,MAAM,CAACe,GAAP,CAAW,KAAX,EAAkB,CAACT,GAAD,EAAMC,GAAN,KAAc;AAC9BA,IAAAA,GAAG,CAACU,KAAJ,CAAUzB,EAAE,CAACW,QAAH,EAAV;AACD,GAFD,EAzC6B,CA6C7B;;AACAH,EAAAA,MAAM,CAACE,GAAP,CAAWf,MAAM,CAACM,IAAD,CAAjB,EA9C6B,CAgD7B;;AACAD,EAAAA,EAAE,CAAC0B,OAAH,CAAW,CAACC,KAAD,EAAQC,GAAR,KAAgB;AACzB,QAAIzC,CAAC,CAAC0C,aAAF,CAAgBF,KAAhB,CAAJ,EAA4B;AAC1BnB,MAAAA,MAAM,CAACE,GAAP,CAAY,IAAGkB,GAAI,EAAnB,EAAsBhC,QAAQ,CAACI,EAAD,EAAK4B,GAAL,EAAU3B,IAAV,CAA9B;AACA;AACD;;AAED,QAAId,CAAC,CAAC+B,OAAF,CAAUS,KAAV,CAAJ,EAAsB;AACpBnB,MAAAA,MAAM,CAACE,GAAP,CAAY,IAAGkB,GAAI,EAAnB,EAAsBlC,MAAM,CAACM,EAAD,EAAK4B,GAAL,EAAU3B,IAAV,CAA5B;AACA;AACD;;AAED,UAAM6B,aAAa,GAAG,EAAtB,CAXyB,CAYzB;AACA;AACA;;AAEA,UAAMC,GAAG,GACN,YAAWH,GAAI,MAAK,OAAOD,KAAM,KAAIG,aAAc,qBAApD,GACC,mCAFH;AAIA,UAAM,IAAIE,KAAJ,CAAUD,GAAV,CAAN;AACD,GArBD,EAqBGJ,KArBH;AAuBAnB,EAAAA,MAAM,CAACE,GAAP,CAAW,CAACI,GAAD,EAAMC,GAAN,KAAc;AACvB,QAAI,CAACA,GAAG,CAACI,MAAJ,CAAWC,IAAhB,EAAsB;AACpBL,MAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX;AACAlB,MAAAA,GAAG,CAACI,MAAJ,CAAWC,IAAX,GAAkB,EAAlB;AACD;;AAEDZ,IAAAA,MAAM,CAACK,MAAP,CAAcC,GAAd,EAAmBC,GAAnB;AACD,GAPD;AASAP,EAAAA,MAAM,CAACE,GAAP,CAAW,CAACwB,GAAD,EAAMpB,GAAN,EAAWC,GAAX,EAAgBoB,IAAhB,KAAyB;AAClCC,IAAAA,OAAO,CAACC,KAAR,CAAcH,GAAG,CAACI,KAAlB;AACAvB,IAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqBL,GAAG,CAACI,KAAzB;AACD,GAHD;AAKA,SAAO9B,MAAP;AACD,CAvFD",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "sourcesContent": [
        "const express = require('express')\nconst methodOverride = require('method-override')\nconst _ = require('lodash')\nconst lodashId = require('lodash-id')\nconst low = require('lowdb')\nconst Memory = require('lowdb/adapters/Memory')\nconst FileSync = require('lowdb/adapters/FileSync')\nconst bodyParser = require('../body-parser')\nconst validateData = require('./validate-data')\nconst plural = require('./plural')\nconst nested = require('./nested')\nconst singular = require('./singular')\nconst mixins = require('../mixins')\n\nmodule.exports = (db, opts) => {\n  opts = Object.assign({ foreignKeySuffix: 'Id', _isFake: false }, opts)\n\n  if (typeof db === 'string') {\n    db = low(new FileSync(db))\n  } else if (!_.has(db, '__chain__') || !_.has(db, '__wrapped__')) {\n    db = low(new Memory()).setState(db)\n  }\n\n  // Create router\n  const router = express.Router()\n\n  // Add middlewares\n  router.use(methodOverride())\n  router.use(bodyParser)\n\n  validateData(db.getState())\n\n  // Add lodash-id methods to db\n  db._.mixin(lodashId)\n\n  // Add specific mixins\n  db._.mixin(mixins)\n\n  // Expose database\n  router.db = db\n\n  // Expose render\n  router.render = (req, res) => {\n    // if it's a GET request and result is an Array\n    if (req.method === 'GET' && Array.isArray(res.locals.data)) {\n      res.json({\n        totalCount: res.get('X-Total-Count'),\n        items: res.locals.data,\n      })\n    } else {\n      res.jsonp(res.locals.data)\n    }\n  }\n\n  // GET /db\n  router.get('/db', (req, res) => {\n    res.jsonp(db.getState())\n  })\n\n  // Handle /:parent/:parentId/:resource\n  router.use(nested(opts))\n\n  // Create routes\n  db.forEach((value, key) => {\n    if (_.isPlainObject(value)) {\n      router.use(`/${key}`, singular(db, key, opts))\n      return\n    }\n\n    if (_.isArray(value)) {\n      router.use(`/${key}`, plural(db, key, opts))\n      return\n    }\n\n    const sourceMessage = ''\n    // if (!_.isObject(source)) {\n    //   sourceMessage = `in ${source}`\n    // }\n\n    const msg =\n      `Type of \"${key}\" (${typeof value}) ${sourceMessage} is not supported. ` +\n      `Use objects or arrays of objects.`\n\n    throw new Error(msg)\n  }).value()\n\n  router.use((req, res) => {\n    if (!res.locals.data) {\n      res.status(404)\n      res.locals.data = {}\n    }\n\n    router.render(req, res)\n  })\n\n  router.use((err, req, res, next) => {\n    console.error(err.stack)\n    res.status(500).send(err.stack)\n  })\n\n  return router\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/validate-data.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/validate-data.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/router/validate-data.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/validate-data.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
        "sourceFileName": "validate-data.js"
      }
    },
    "ast": null,
    "code": "const _ = require('lodash');\n\nfunction validateKey(key) {\n  if (key.indexOf('/') !== -1) {\n    const msg = [`Oops, found / character in database property '${key}'.`, '', \"/ aren't supported, if you want to tweak default routes, see\", 'https://github.com/typicode/json-server/#add-custom-routes'].join('\\n');\n    throw new Error(msg);\n  }\n}\n\nmodule.exports = obj => {\n  if (_.isPlainObject(obj)) {\n    Object.keys(obj).forEach(validateKey);\n  } else {\n    throw new Error(`Data must be an object. Found ${typeof obj}.` + 'See https://github.com/typicode/json-server for example.');\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlLWRhdGEuanMiXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJ2YWxpZGF0ZUtleSIsImtleSIsImluZGV4T2YiLCJtc2ciLCJqb2luIiwiRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwib2JqIiwiaXNQbGFpbk9iamVjdCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxRQUFELENBQWpCOztBQUVBLFNBQVNDLFdBQVQsQ0FBcUJDLEdBQXJCLEVBQTBCO0FBQ3hCLE1BQUlBLEdBQUcsQ0FBQ0MsT0FBSixDQUFZLEdBQVosTUFBcUIsQ0FBQyxDQUExQixFQUE2QjtBQUMzQixVQUFNQyxHQUFHLEdBQUcsQ0FDVCxpREFBZ0RGLEdBQUksSUFEM0MsRUFFVixFQUZVLEVBR1YsOERBSFUsRUFJViw0REFKVSxFQUtWRyxJQUxVLENBS0wsSUFMSyxDQUFaO0FBTUEsVUFBTSxJQUFJQyxLQUFKLENBQVVGLEdBQVYsQ0FBTjtBQUNEO0FBQ0Y7O0FBRURHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsR0FBRCxJQUFTO0FBQ3hCLE1BQUlWLENBQUMsQ0FBQ1csYUFBRixDQUFnQkQsR0FBaEIsQ0FBSixFQUEwQjtBQUN4QkUsSUFBQUEsTUFBTSxDQUFDQyxJQUFQLENBQVlILEdBQVosRUFBaUJJLE9BQWpCLENBQXlCWixXQUF6QjtBQUNELEdBRkQsTUFFTztBQUNMLFVBQU0sSUFBSUssS0FBSixDQUNILGlDQUFnQyxPQUFPRyxHQUFJLEdBQTVDLEdBQ0UsMERBRkUsQ0FBTjtBQUlEO0FBQ0YsQ0FURCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFyaW5hbWFyaW5hL0Rlc2t0b3AvdGVzdGluZy9zZXJ2ZXIvc3JjL3NlcnZlci9yb3V0ZXIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpXG5cbmZ1bmN0aW9uIHZhbGlkYXRlS2V5KGtleSkge1xuICBpZiAoa2V5LmluZGV4T2YoJy8nKSAhPT0gLTEpIHtcbiAgICBjb25zdCBtc2cgPSBbXG4gICAgICBgT29wcywgZm91bmQgLyBjaGFyYWN0ZXIgaW4gZGF0YWJhc2UgcHJvcGVydHkgJyR7a2V5fScuYCxcbiAgICAgICcnLFxuICAgICAgXCIvIGFyZW4ndCBzdXBwb3J0ZWQsIGlmIHlvdSB3YW50IHRvIHR3ZWFrIGRlZmF1bHQgcm91dGVzLCBzZWVcIixcbiAgICAgICdodHRwczovL2dpdGh1Yi5jb20vdHlwaWNvZGUvanNvbi1zZXJ2ZXIvI2FkZC1jdXN0b20tcm91dGVzJyxcbiAgICBdLmpvaW4oJ1xcbicpXG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZylcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IChvYmopID0+IHtcbiAgaWYgKF8uaXNQbGFpbk9iamVjdChvYmopKSB7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKHZhbGlkYXRlS2V5KVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBEYXRhIG11c3QgYmUgYW4gb2JqZWN0LiBGb3VuZCAke3R5cGVvZiBvYmp9LmAgK1xuICAgICAgICAnU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90eXBpY29kZS9qc29uLXNlcnZlciBmb3IgZXhhbXBsZS4nXG4gICAgKVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "validate-data.js"
      ],
      "names": [
        "_",
        "require",
        "validateKey",
        "key",
        "indexOf",
        "msg",
        "join",
        "Error",
        "module",
        "exports",
        "obj",
        "isPlainObject",
        "Object",
        "keys",
        "forEach"
      ],
      "mappings": "AAAA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AAEA,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AACxB,MAAIA,GAAG,CAACC,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAA1B,EAA6B;AAC3B,UAAMC,GAAG,GAAG,CACT,iDAAgDF,GAAI,IAD3C,EAEV,EAFU,EAGV,8DAHU,EAIV,4DAJU,EAKVG,IALU,CAKL,IALK,CAAZ;AAMA,UAAM,IAAIC,KAAJ,CAAUF,GAAV,CAAN;AACD;AACF;;AAEDG,MAAM,CAACC,OAAP,GAAkBC,GAAD,IAAS;AACxB,MAAIV,CAAC,CAACW,aAAF,CAAgBD,GAAhB,CAAJ,EAA0B;AACxBE,IAAAA,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiBI,OAAjB,CAAyBZ,WAAzB;AACD,GAFD,MAEO;AACL,UAAM,IAAIK,KAAJ,CACH,iCAAgC,OAAOG,GAAI,GAA5C,GACE,0DAFE,CAAN;AAID;AACF,CATD",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "sourcesContent": [
        "const _ = require('lodash')\n\nfunction validateKey(key) {\n  if (key.indexOf('/') !== -1) {\n    const msg = [\n      `Oops, found / character in database property '${key}'.`,\n      '',\n      \"/ aren't supported, if you want to tweak default routes, see\",\n      'https://github.com/typicode/json-server/#add-custom-routes',\n    ].join('\\n')\n    throw new Error(msg)\n  }\n}\n\nmodule.exports = (obj) => {\n  if (_.isPlainObject(obj)) {\n    Object.keys(obj).forEach(validateKey)\n  } else {\n    throw new Error(\n      `Data must be an object. Found ${typeof obj}.` +\n        'See https://github.com/typicode/json-server for example.'\n    )\n  }\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/plural.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/plural.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/router/plural.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/plural.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
        "sourceFileName": "plural.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst _ = require('lodash');\n\nconst pluralize = require('pluralize');\n\nconst write = require('./write');\n\nconst getFullURL = require('./get-full-url');\n\nconst utils = require('../utils');\n\nconst delay = require('./delay');\n\nmodule.exports = (db, name, opts) => {\n  // Create router\n  const router = express.Router();\n  router.use(delay); // Embed function used in GET /name and GET /name/id\n\n  function embed(resource, e) {\n    e && [].concat(e).forEach(externalResource => {\n      if (db.get(externalResource).value) {\n        const query = {};\n        const singularResource = pluralize.singular(name);\n        query[`${singularResource}${opts.foreignKeySuffix}`] = resource.id;\n        resource[externalResource] = db.get(externalResource).filter(query).value();\n      }\n    });\n  } // Expand function used in GET /name and GET /name/id\n\n\n  function expand(resource, e) {\n    e && [].concat(e).forEach(innerResource => {\n      const plural = pluralize(innerResource);\n\n      if (db.get(plural).value()) {\n        const prop = `${innerResource}${opts.foreignKeySuffix}`;\n        resource[innerResource] = db.get(plural).getById(resource[prop]).value();\n      }\n    });\n  } // GET /name\n  // GET /name?q=\n  // GET /name?attr=&attr=\n  // GET /name?_end=&\n  // GET /name?_start=&_end=&\n  // GET /name?_embed=&_expand=\n\n\n  function list(req, res, next) {\n    // Resource chain\n    let chain = db.get(name); // Remove q, _start, _end, ... from req.query to avoid filtering using those\n    // parameters\n\n    let q = req.query.q;\n    let _start = req.query._start;\n    let _end = req.query._end;\n    let _page = req.query._page;\n    const _sort = req.query._sort;\n    const _order = req.query._order;\n    let _limit = req.query._limit;\n    const _embed = req.query._embed;\n    const _expand = req.query._expand;\n    delete req.query.q;\n    delete req.query._start;\n    delete req.query._end;\n    delete req.query._sort;\n    delete req.query._order;\n    delete req.query._limit;\n    delete req.query._embed;\n    delete req.query._expand; // Automatically delete query parameters that can't be found\n    // in the database\n\n    Object.keys(req.query).forEach(query => {\n      const arr = db.get(name).value();\n\n      for (const i in arr) {\n        if (_.has(arr[i], query) || query === 'callback' || query === '_' || /_lte$/.test(query) || /_gte$/.test(query) || /_ne$/.test(query) || /_like$/.test(query)) return;\n      }\n\n      delete req.query[query];\n    });\n\n    if (q) {\n      // Full-text search\n      if (Array.isArray(q)) {\n        q = q[0];\n      }\n\n      q = q.toLowerCase();\n      chain = chain.filter(obj => {\n        for (const key in obj) {\n          const value = obj[key];\n\n          if (db._.deepQuery(value, q)) {\n            return true;\n          }\n        }\n\n        return false;\n      });\n    }\n\n    Object.keys(req.query).forEach(key => {\n      // Don't take into account JSONP query parameters\n      // jQuery adds a '_' query parameter too\n      if (key !== 'callback' && key !== '_') {\n        // Always use an array, in case req.query is an array\n        const arr = [].concat(req.query[key]);\n        const isDifferent = /_ne$/.test(key);\n        const isRange = /_lte$/.test(key) || /_gte$/.test(key);\n        const isLike = /_like$/.test(key);\n        const path = key.replace(/(_lte|_gte|_ne|_like)$/, '');\n        chain = chain.filter(element => {\n          return arr.map(function (value) {\n            // get item value based on path\n            // i.e post.title -> 'foo'\n            const elementValue = _.get(element, path); // Prevent toString() failing on undefined or null values\n\n\n            if (elementValue === undefined || elementValue === null) {\n              return undefined;\n            }\n\n            if (isRange) {\n              const isLowerThan = /_gte$/.test(key);\n              return isLowerThan ? value <= elementValue : value >= elementValue;\n            } else if (isDifferent) {\n              return value !== elementValue.toString();\n            } else if (isLike) {\n              return new RegExp(value, 'i').test(elementValue.toString());\n            } else {\n              return value === elementValue.toString();\n            }\n          }).reduce((a, b) => isDifferent ? a && b : a || b);\n        });\n      }\n    }); // Sort\n\n    if (_sort) {\n      const _sortSet = _sort.split(',');\n\n      const _orderSet = (_order || '').split(',').map(s => s.toLowerCase());\n\n      chain = chain.orderBy(_sortSet, _orderSet);\n    } // Slice result\n\n\n    if (_end || _limit || _page) {\n      res.setHeader('X-Total-Count', chain.size());\n      res.setHeader('Access-Control-Expose-Headers', `X-Total-Count${_page ? ', Link' : ''}`);\n    }\n\n    if (_page) {\n      _page = parseInt(_page, 10);\n      _page = _page >= 1 ? _page : 1;\n      _limit = parseInt(_limit, 10) || 10;\n      const page = utils.getPage(chain.value(), _page, _limit);\n      const links = {};\n      const fullURL = getFullURL(req);\n\n      if (page.first) {\n        links.first = fullURL.replace(`page=${page.current}`, `page=${page.first}`);\n      }\n\n      if (page.prev) {\n        links.prev = fullURL.replace(`page=${page.current}`, `page=${page.prev}`);\n      }\n\n      if (page.next) {\n        links.next = fullURL.replace(`page=${page.current}`, `page=${page.next}`);\n      }\n\n      if (page.last) {\n        links.last = fullURL.replace(`page=${page.current}`, `page=${page.last}`);\n      }\n\n      res.links(links);\n      chain = _.chain(page.items);\n    } else if (_end) {\n      _start = parseInt(_start, 10) || 0;\n      _end = parseInt(_end, 10);\n      chain = chain.slice(_start, _end);\n    } else if (_limit) {\n      _start = parseInt(_start, 10) || 0;\n      _limit = parseInt(_limit, 10);\n      chain = chain.slice(_start, _start + _limit);\n    } // embed and expand\n\n\n    chain = chain.cloneDeep().forEach(function (element) {\n      embed(element, _embed);\n      expand(element, _expand);\n    });\n    res.locals.data = chain.value();\n    next();\n  } // GET /name/:id\n  // GET /name/:id?_embed=&_expand\n\n\n  function show(req, res, next) {\n    const _embed = req.query._embed;\n    const _expand = req.query._expand;\n    const resource = db.get(name).getById(req.params.id).value();\n\n    if (resource) {\n      // Clone resource to avoid making changes to the underlying object\n      const clone = _.cloneDeep(resource); // Embed other resources based on resource id\n      // /posts/1?_embed=comments\n\n\n      embed(clone, _embed); // Expand inner resources based on id\n      // /posts/1?_expand=user\n\n      expand(clone, _expand);\n      res.locals.data = clone;\n    }\n\n    next();\n  } // POST /name\n\n\n  function create(req, res, next) {\n    let resource;\n\n    if (opts._isFake) {\n      const id = db.get(name).createId().value();\n      resource = { ...req.body,\n        id\n      };\n    } else {\n      resource = db.get(name).insert(req.body).value();\n    }\n\n    res.setHeader('Access-Control-Expose-Headers', 'Location');\n    res.location(`${getFullURL(req)}/${resource.id}`);\n    res.status(201);\n    res.locals.data = resource;\n    next();\n  } // PUT /name/:id\n  // PATCH /name/:id\n\n\n  function update(req, res, next) {\n    const id = req.params.id;\n    let resource;\n\n    if (opts._isFake) {\n      resource = db.get(name).getById(id).value();\n\n      if (req.method === 'PATCH') {\n        resource = { ...resource,\n          ...req.body\n        };\n      } else {\n        resource = { ...req.body,\n          id: resource.id\n        };\n      }\n    } else {\n      let chain = db.get(name);\n      chain = req.method === 'PATCH' ? chain.updateById(id, req.body) : chain.replaceById(id, req.body);\n      resource = chain.value();\n    }\n\n    if (resource) {\n      res.locals.data = resource;\n    }\n\n    next();\n  } // DELETE /name/:id\n\n\n  function destroy(req, res, next) {\n    let resource;\n\n    if (opts._isFake) {\n      resource = db.get(name).value();\n    } else {\n      resource = db.get(name).removeById(req.params.id).value(); // Remove dependents documents\n\n      const removable = db._.getRemovable(db.getState(), opts);\n\n      removable.forEach(item => {\n        db.get(item.name).removeById(item.id).value();\n      });\n    }\n\n    if (resource) {\n      res.locals.data = {};\n    }\n\n    next();\n  }\n\n  const w = write(db);\n  router.route('/').get(list).post(create, w);\n  router.route('/:id').get(show).put(update, w).patch(update, w).delete(destroy, w);\n  return router;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdXJhbC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl8iLCJwbHVyYWxpemUiLCJ3cml0ZSIsImdldEZ1bGxVUkwiLCJ1dGlscyIsImRlbGF5IiwibW9kdWxlIiwiZXhwb3J0cyIsImRiIiwibmFtZSIsIm9wdHMiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJ1c2UiLCJlbWJlZCIsInJlc291cmNlIiwiZSIsImNvbmNhdCIsImZvckVhY2giLCJleHRlcm5hbFJlc291cmNlIiwiZ2V0IiwidmFsdWUiLCJxdWVyeSIsInNpbmd1bGFyUmVzb3VyY2UiLCJzaW5ndWxhciIsImZvcmVpZ25LZXlTdWZmaXgiLCJpZCIsImZpbHRlciIsImV4cGFuZCIsImlubmVyUmVzb3VyY2UiLCJwbHVyYWwiLCJwcm9wIiwiZ2V0QnlJZCIsImxpc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY2hhaW4iLCJxIiwiX3N0YXJ0IiwiX2VuZCIsIl9wYWdlIiwiX3NvcnQiLCJfb3JkZXIiLCJfbGltaXQiLCJfZW1iZWQiLCJfZXhwYW5kIiwiT2JqZWN0Iiwia2V5cyIsImFyciIsImkiLCJoYXMiLCJ0ZXN0IiwiQXJyYXkiLCJpc0FycmF5IiwidG9Mb3dlckNhc2UiLCJvYmoiLCJrZXkiLCJkZWVwUXVlcnkiLCJpc0RpZmZlcmVudCIsImlzUmFuZ2UiLCJpc0xpa2UiLCJwYXRoIiwicmVwbGFjZSIsImVsZW1lbnQiLCJtYXAiLCJlbGVtZW50VmFsdWUiLCJ1bmRlZmluZWQiLCJpc0xvd2VyVGhhbiIsInRvU3RyaW5nIiwiUmVnRXhwIiwicmVkdWNlIiwiYSIsImIiLCJfc29ydFNldCIsInNwbGl0IiwiX29yZGVyU2V0IiwicyIsIm9yZGVyQnkiLCJzZXRIZWFkZXIiLCJzaXplIiwicGFyc2VJbnQiLCJwYWdlIiwiZ2V0UGFnZSIsImxpbmtzIiwiZnVsbFVSTCIsImZpcnN0IiwiY3VycmVudCIsInByZXYiLCJsYXN0IiwiaXRlbXMiLCJzbGljZSIsImNsb25lRGVlcCIsImxvY2FscyIsImRhdGEiLCJzaG93IiwicGFyYW1zIiwiY2xvbmUiLCJjcmVhdGUiLCJfaXNGYWtlIiwiY3JlYXRlSWQiLCJib2R5IiwiaW5zZXJ0IiwibG9jYXRpb24iLCJzdGF0dXMiLCJ1cGRhdGUiLCJtZXRob2QiLCJ1cGRhdGVCeUlkIiwicmVwbGFjZUJ5SWQiLCJkZXN0cm95IiwicmVtb3ZlQnlJZCIsInJlbW92YWJsZSIsImdldFJlbW92YWJsZSIsImdldFN0YXRlIiwiaXRlbSIsInciLCJyb3V0ZSIsInBvc3QiLCJwdXQiLCJwYXRjaCIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxDQUFDLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQWpCOztBQUNBLE1BQU1FLFNBQVMsR0FBR0YsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxNQUFNSSxVQUFVLEdBQUdKLE9BQU8sQ0FBQyxnQkFBRCxDQUExQjs7QUFDQSxNQUFNSyxLQUFLLEdBQUdMLE9BQU8sQ0FBQyxVQUFELENBQXJCOztBQUNBLE1BQU1NLEtBQUssR0FBR04sT0FBTyxDQUFDLFNBQUQsQ0FBckI7O0FBRUFPLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxFQUFELEVBQUtDLElBQUwsRUFBV0MsSUFBWCxLQUFvQjtBQUNuQztBQUNBLFFBQU1DLE1BQU0sR0FBR2IsT0FBTyxDQUFDYyxNQUFSLEVBQWY7QUFDQUQsRUFBQUEsTUFBTSxDQUFDRSxHQUFQLENBQVdSLEtBQVgsRUFIbUMsQ0FLbkM7O0FBQ0EsV0FBU1MsS0FBVCxDQUFlQyxRQUFmLEVBQXlCQyxDQUF6QixFQUE0QjtBQUMxQkEsSUFBQUEsQ0FBQyxJQUNDLEdBQUdDLE1BQUgsQ0FBVUQsQ0FBVixFQUFhRSxPQUFiLENBQXNCQyxnQkFBRCxJQUFzQjtBQUN6QyxVQUFJWCxFQUFFLENBQUNZLEdBQUgsQ0FBT0Qs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QUF3QjVFLEdBQUcsQ0FBQzhELE1BQUosQ0FBV3RFLEVBQW5DLEVBQXVDTCxLQUF2QyxFQUFYLENBREssQ0FHTDs7QUFDQSxZQUFNMEYsU0FBUyxHQUFHdkcsRUFBRSxDQUFDUixDQUFILENBQUtnSCxZQUFMLENBQWtCeEcsRUFBRSxDQUFDeUcsUUFBSCxFQUFsQixFQUFpQ3ZHLElBQWpDLENBQWxCOztBQUNBcUcsTUFBQUEsU0FBUyxDQUFDN0YsT0FBVixDQUFtQmdHLElBQUQsSUFBVTtBQUMxQjFHLFFBQUFBLEVBQUUsQ0FBQ1ksR0FBSCxDQUFPOEYsSUFBSSxDQUFDekcsSUFBWixFQUFrQnFHLFVBQWxCLENBQTZCSSxJQUFJLENBQUN4RixFQUFsQyxFQUFzQ0wsS0FBdEM7QUFDRCxPQUZEO0FBR0Q7O0FBRUQsUUFBSU4sUUFBSixFQUFjO0FBQ1pvQixNQUFBQSxHQUFHLENBQUMwRCxNQUFKLENBQVdDLElBQVgsR0FBa0IsRUFBbEI7QUFDRDs7QUFFRDFELElBQUFBLElBQUk7QUFDTDs7QUFFRCxRQUFNK0UsQ0FBQyxHQUFHakgsS0FBSyxDQUFDTSxFQUFELENBQWY7QUFFQUcsRUFBQUEsTUFBTSxDQUFDeUcsS0FBUCxDQUFhLEdBQWIsRUFBa0JoRyxHQUFsQixDQUFzQmEsSUFBdEIsRUFBNEJvRixJQUE1QixDQUFpQ25CLE1BQWpDLEVBQXlDaUIsQ0FBekM7QUFFQXhHLEVBQUFBLE1BQU0sQ0FDSHlHLEtBREgsQ0FDUyxNQURULEVBRUdoRyxHQUZILENBRU8yRSxJQUZQLEVBR0d1QixHQUhILENBR09iLE1BSFAsRUFHZVUsQ0FIZixFQUlHSSxLQUpILENBSVNkLE1BSlQsRUFJaUJVLENBSmpCLEVBS0dLLE1BTEgsQ0FLVVgsT0FMVixFQUttQk0sQ0FMbkI7QUFPQSxTQUFPeEcsTUFBUDtBQUNELENBNVVEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXJpbmFtYXJpbmEvRGVza3RvcC90ZXN0aW5nL3NlcnZlci9zcmMvc2VydmVyL3JvdXRlci8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJylcbmNvbnN0IHBsdXJhbGl6ZSA9IHJlcXVpcmUoJ3BsdXJhbGl6ZScpXG5jb25zdCB3cml0ZSA9IHJlcXVpcmUoJy4vd3JpdGUnKVxuY29uc3QgZ2V0RnVsbFVSTCA9IHJlcXVpcmUoJy4vZ2V0LWZ1bGwtdXJsJylcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuY29uc3QgZGVsYXkgPSByZXF1aXJlKCcuL2RlbGF5JylcblxubW9kdWxlLmV4cG9ydHMgPSAoZGIsIG5hbWUsIG9wdHMpID0+IHtcbiAgLy8gQ3JlYXRlIHJvdXRlclxuICBjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXG4gIHJvdXRlci51c2UoZGVsYXkpXG5cbiAgLy8gRW1iZWQgZnVuY3Rpb24gdXNlZCBpbiBHRVQgL25hbWUgYW5kIEdFVCAvbmFtZS9pZFxuICBmdW5jdGlvbiBlbWJlZChyZXNvdXJjZSwgZSkge1xuICAgIGUgJiZcbiAgICAgIFtdLmNvbmNhdChlKS5mb3JFYWNoKChleHRlcm5hbFJlc291cmNlKSA9PiB7XG4gICAgICAgIGlmIChkYi5nZXQoZXh0ZXJuYWxSZXNvdXJjZSkudmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBxdWVyeSA9IHt9XG4gICAgICAgICAgY29uc3Qgc2luZ3VsYXJSZXNvdXJjZSA9IHBsdXJhbGl6ZS5zaW5ndWxhcihuYW1lKVxuICAgICAgICAgIHF1ZXJ5W2Ake3Npbmd1bGFyUmVzb3VyY2V9JHtvcHRzLmZvcmVpZ25LZXlTdWZmaXh9YF0gPSByZXNvdXJjZS5pZFxuICAgICAgICAgIHJlc291cmNlW2V4dGVybmFsUmVzb3VyY2VdID0gZGJcbiAgICAgICAgICAgIC5nZXQoZXh0ZXJuYWxSZXNvdXJjZSlcbiAgICAgICAgICAgIC5maWx0ZXIocXVlcnkpXG4gICAgICAgICAgICAudmFsdWUoKVxuICAgICAgICB9XG4gICAgICB9KVxuICB9XG5cbiAgLy8gRXhwYW5kIGZ1bmN0aW9uIHVzZWQgaW4gR0VUIC9uYW1lIGFuZCBHRVQgL25hbWUvaWRcbiAgZnVuY3Rpb24gZXhwYW5kKHJlc291cmNlLCBlKSB7XG4gICAgZSAmJlxuICAgICAgW10uY29uY2F0KGUpLmZvckVhY2goKGlubmVyUmVzb3VyY2UpID0+IHtcbiAgICAgICAgY29uc3QgcGx1cmFsID0gcGx1cmFsaXplKGlubmVyUmVzb3VyY2UpXG4gICAgICAgIGlmIChkYi5nZXQocGx1cmFsKS52YWx1ZSgpKSB7XG4gICAgICAgICAgY29uc3QgcHJvcCA9IGAke2lubmVyUmVzb3VyY2V9JHtvcHRzLmZvcmVpZ25LZXlTdWZmaXh9YFxuICAgICAgICAgIHJlc291cmNlW2lubmVyUmVzb3VyY2VdID0gZGJcbiAgICAgICAgICAgIC5nZXQocGx1cmFsKVxuICAgICAgICAgICAgLmdldEJ5SWQocmVzb3VyY2VbcHJvcF0pXG4gICAgICAgICAgICAudmFsdWUoKVxuICAgICAgICB9XG4gICAgICB9KVxuICB9XG5cbiAgLy8gR0VUIC9uYW1lXG4gIC8vIEdFVCAvbmFtZT9xPVxuICAvLyBHRVQgL25hbWU/YXR0cj0mYXR0cj1cbiAgLy8gR0VUIC9uYW1lP19lbmQ9JlxuICAvLyBHRVQgL25hbWU/X3N0YXJ0PSZfZW5kPSZcbiAgLy8gR0VUIC9uYW1lP19lbWJlZD0mX2V4cGFuZD1cbiAgZnVuY3Rpb24gbGlzdChyZXEsIHJlcywgbmV4dCkge1xuICAgIC8vIFJlc291cmNlIGNoYWluXG4gICAgbGV0IGNoYWluID0gZGIuZ2V0KG5hbWUpXG5cbiAgICAvLyBSZW1vdmUgcSwgX3N0YXJ0LCBfZW5kLCAuLi4gZnJvbSByZXEucXVlcnkgdG8gYXZvaWQgZmlsdGVyaW5nIHVzaW5nIHRob3NlXG4gICAgLy8gcGFyYW1ldGVyc1xuICAgIGxldCBxID0gcmVxLnF1ZXJ5LnFcbiAgICBsZXQgX3N0YXJ0ID0gcmVxLnF1ZXJ5Ll9zdGFydFxuICAgIGxldCBfZW5kID0gcmVxLnF1ZXJ5Ll9lbmRcbiAgICBsZXQgX3BhZ2UgPSByZXEucXVlcnkuX3BhZ2VcbiAgICBjb25zdCBfc29ydCA9IHJlcS5xdWVyeS5fc29ydFxuICAgIGNvbnN0IF9vcmRlciA9IHJlcS5xdWVyeS5fb3JkZXJcbiAgICBsZXQgX2xpbWl0ID0gcmVxLnF1ZXJ5Ll9saW1pdFxuICAgIGNvbnN0IF9lbWJlZCA9IHJlcS5xdWVyeS5fZW1iZWRcbiAgICBjb25zdCBfZXhwYW5kID0gcmVxLnF1ZXJ5Ll9leHBhbmRcbiAgICBkZWxldGUgcmVxLnF1ZXJ5LnFcbiAgICBkZWxldGUgcmVxLnF1ZXJ5Ll9zdGFydFxuICAgIGRlbGV0ZSByZXEucXVlcnkuX2VuZFxuICAgIGRlbGV0ZSByZXEucXVlcnkuX3NvcnRcbiAgICBkZWxldGUgcmVxLnF1ZXJ5Ll9vcmRlclxuICAgIGRlbGV0ZSByZXEucXVlcnkuX2xpbWl0XG4gICAgZGVsZXRlIHJlcS5xdWVyeS5fZW1iZWRcbiAgICBkZWxldGUgcmVxLnF1ZXJ5Ll9leHBhbmRcblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgZGVsZXRlIHF1ZXJ5IHBhcmFtZXRlcnMgdGhhdCBjYW4ndCBiZSBmb3VuZFxuICAgIC8vIGluIHRoZSBkYXRhYmFzZVxuICAgIE9iamVjdC5rZXlzKHJlcS5xdWVyeSkuZm9yRWFjaCgocXVlcnkpID0+IHtcbiAgICAgIGNvbnN0IGFyciA9IGRiLmdldChuYW1lKS52YWx1ZSgpXG4gICAgICBmb3IgKGNvbnN0IGkgaW4gYXJyKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBfLmhhcyhhcnJbaV0sIHF1ZXJ5KSB8fFxuICAgICAgICAgIHF1ZXJ5ID09PSAnY2FsbGJhY2snIHx8XG4gICAgICAgICAgcXVlcnkgPT09ICdfJyB8fFxuICAgICAgICAgIC9fbHRlJC8udGVzdChxdWVyeSkgfHxcbiAgICAgICAgICAvX2d0ZSQvLnRlc3QocXVlcnkpIHx8XG4gICAgICAgICAgL19uZSQvLnRlc3QocXVlcnkpIHx8XG4gICAgICAgICAgL19saWtlJC8udGVzdChxdWVyeSlcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgZGVsZXRlIHJlcS5xdWVyeVtxdWVyeV1cbiAgICB9KVxuXG4gICAgaWYgKHEpIHtcbiAgICAgIC8vIEZ1bGwtdGV4dCBzZWFyY2hcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHEpKSB7XG4gICAgICAgIHEgPSBxWzBdXG4gICAgICB9XG5cbiAgICAgIHEgPSBxLnRvTG93ZXJDYXNlKClcblxuICAgICAgY2hhaW4gPSBjaGFpbi5maWx0ZXIoKG9iaikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldXG4gICAgICAgICAgaWYgKGRiLl8uZGVlcFF1ZXJ5KHZhbHVlLCBxKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9KVxuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKHJlcS5xdWVyeSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAvLyBEb24ndCB0YWtlIGludG8gYWNjb3VudCBKU09OUCBxdWVyeSBwYXJhbWV0ZXJzXG4gICAgICAvLyBqUXVlcnkgYWRkcyBhICdfJyBxdWVyeSBwYXJhbWV0ZXIgdG9vXG4gICAgICBpZiAoa2V5ICE9PSAnY2FsbGJhY2snICYmIGtleSAhPT0gJ18nKSB7XG4gICAgICAgIC8vIEFsd2F5cyB1c2UgYW4gYXJyYXksIGluIGNhc2UgcmVxLnF1ZXJ5IGlzIGFuIGFycmF5XG4gICAgICAgIGNvbnN0IGFyciA9IFtdLmNvbmNhdChyZXEucXVlcnlba2V5XSlcblxuICAgICAgICBjb25zdCBpc0RpZmZlcmVudCA9IC9fbmUkLy50ZXN0KGtleSlcbiAgICAgICAgY29uc3QgaXNSYW5nZSA9IC9fbHRlJC8udGVzdChrZXkpIHx8IC9fZ3RlJC8udGVzdChrZXkpXG4gICAgICAgIGNvbnN0IGlzTGlrZSA9IC9fbGlrZSQvLnRlc3Qoa2V5KVxuICAgICAgICBjb25zdCBwYXRoID0ga2V5LnJlcGxhY2UoLyhfbHRlfF9ndGV8X25lfF9saWtlKSQvLCAnJylcblxuICAgICAgICBjaGFpbiA9IGNoYWluLmZpbHRlcigoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIHJldHVybiBhcnJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIC8vIGdldCBpdGVtIHZhbHVlIGJhc2VkIG9uIHBhdGhcbiAgICAgICAgICAgICAgLy8gaS5lIHBvc3QudGl0bGUgLT4gJ2ZvbydcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFZhbHVlID0gXy5nZXQoZWxlbWVudCwgcGF0aClcblxuICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRvU3RyaW5nKCkgZmFpbGluZyBvbiB1bmRlZmluZWQgb3IgbnVsbCB2YWx1ZXNcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGVsZW1lbnRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChpc1JhbmdlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNMb3dlclRoYW4gPSAvX2d0ZSQvLnRlc3Qoa2V5KVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTG93ZXJUaGFuXG4gICAgICAgICAgICAgICAgICA/IHZhbHVlIDw9IGVsZW1lbnRWYWx1ZVxuICAgICAgICAgICAgICAgICAgOiB2YWx1ZSA+PSBlbGVtZW50VmFsdWVcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0RpZmZlcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gZWxlbWVudFZhbHVlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xpa2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh2YWx1ZSwgJ2knKS50ZXN0KGVsZW1lbnRWYWx1ZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gZWxlbWVudFZhbHVlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IChpc0RpZmZlcmVudCA/IGEgJiYgYiA6IGEgfHwgYikpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIFNvcnRcbiAgICBpZiAoX3NvcnQpIHtcbiAgICAgIGNvbnN0IF9zb3J0U2V0ID0gX3NvcnQuc3BsaXQoJywnKVxuICAgICAgY29uc3QgX29yZGVyU2V0ID0gKF9vcmRlciB8fCAnJykuc3BsaXQoJywnKS5tYXAoKHMpID0+IHMudG9Mb3dlckNhc2UoKSlcbiAgICAgIGNoYWluID0gY2hhaW4ub3JkZXJCeShfc29ydFNldCwgX29yZGVyU2V0KVxuICAgIH1cblxuICAgIC8vIFNsaWNlIHJlc3VsdFxuICAgIGlmIChfZW5kIHx8IF9saW1pdCB8fCBfcGFnZSkge1xuICAgICAgcmVzLnNldEhlYWRlcignWC1Ub3RhbC1Db3VudCcsIGNoYWluLnNpemUoKSlcbiAgICAgIHJlcy5zZXRIZWFkZXIoXG4gICAgICAgICdBY2Nlc3MtQ29udHJvbC1FeHBvc2UtSGVhZGVycycsXG4gICAgICAgIGBYLVRvdGFsLUNvdW50JHtfcGFnZSA/ICcsIExpbmsnIDogJyd9YFxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChfcGFnZSkge1xuICAgICAgX3BhZ2UgPSBwYXJzZUludChfcGFnZSwgMTApXG4gICAgICBfcGFnZSA9IF9wYWdlID49IDEgPyBfcGFnZSA6IDFcbiAgICAgIF9saW1pdCA9IHBhcnNlSW50KF9saW1pdCwgMTApIHx8IDEwXG4gICAgICBjb25zdCBwYWdlID0gdXRpbHMuZ2V0UGFnZShjaGFpbi52YWx1ZSgpLCBfcGFnZSwgX2xpbWl0KVxuICAgICAgY29uc3QgbGlua3MgPSB7fVxuICAgICAgY29uc3QgZnVsbFVSTCA9IGdldEZ1bGxVUkwocmVxKVxuXG4gICAgICBpZiAocGFnZS5maXJzdCkge1xuICAgICAgICBsaW5rcy5maXJzdCA9IGZ1bGxVUkwucmVwbGFjZShcbiAgICAgICAgICBgcGFnZT0ke3BhZ2UuY3VycmVudH1gLFxuICAgICAgICAgIGBwYWdlPSR7cGFnZS5maXJzdH1gXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgaWYgKHBhZ2UucHJldikge1xuICAgICAgICBsaW5rcy5wcmV2ID0gZnVsbFVSTC5yZXBsYWNlKFxuICAgICAgICAgIGBwYWdlPSR7cGFnZS5jdXJyZW50fWAsXG4gICAgICAgICAgYHBhZ2U9JHtwYWdlLnByZXZ9YFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGlmIChwYWdlLm5leHQpIHtcbiAgICAgICAgbGlua3MubmV4dCA9IGZ1bGxVUkwucmVwbGFjZShcbiAgICAgICAgICBgcGFnZT0ke3BhZ2UuY3VycmVudH1gLFxuICAgICAgICAgIGBwYWdlPSR7cGFnZS5uZXh0fWBcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBpZiAocGFnZS5sYXN0KSB7XG4gICAgICAgIGxpbmtzLmxhc3QgPSBmdWxsVVJMLnJlcGxhY2UoXG4gICAgICAgICAgYHBhZ2U9JHtwYWdlLmN1cnJlbnR9YCxcbiAgICAgICAgICBgcGFnZT0ke3BhZ2UubGFzdH1gXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmVzLmxpbmtzKGxpbmtzKVxuICAgICAgY2hhaW4gPSBfLmNoYWluKHBhZ2UuaXRlbXMpXG4gICAgfSBlbHNlIGlmIChfZW5kKSB7XG4gICAgICBfc3RhcnQgPSBwYXJzZUludChfc3RhcnQsIDEwKSB8fCAwXG4gICAgICBfZW5kID0gcGFyc2VJbnQoX2VuZCwgMTApXG4gICAgICBjaGFpbiA9IGNoYWluLnNsaWNlKF9zdGFydCwgX2VuZClcbiAgICB9IGVsc2UgaWYgKF9saW1pdCkge1xuICAgICAgX3N0YXJ0ID0gcGFyc2VJbnQoX3N0YXJ0LCAxMCkgfHwgMFxuICAgICAgX2xpbWl0ID0gcGFyc2VJbnQoX2xpbWl0LCAxMClcbiAgICAgIGNoYWluID0gY2hhaW4uc2xpY2UoX3N0YXJ0LCBfc3RhcnQgKyBfbGltaXQpXG4gICAgfVxuXG4gICAgLy8gZW1iZWQgYW5kIGV4cGFuZFxuICAgIGNoYWluID0gY2hhaW4uY2xvbmVEZWVwKCkuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgZW1iZWQoZWxlbWVudCwgX2VtYmVkKVxuICAgICAgZXhwYW5kKGVsZW1lbnQsIF9leHBhbmQpXG4gICAgfSlcblxuICAgIHJlcy5sb2NhbHMuZGF0YSA9IGNoYWluLnZhbHVlKClcbiAgICBuZXh0KClcbiAgfVxuXG4gIC8vIEdFVCAvbmFtZS86aWRcbiAgLy8gR0VUIC9uYW1lLzppZD9fZW1iZWQ9Jl9leHBhbmRcbiAgZnVuY3Rpb24gc2hvdyhyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IF9lbWJlZCA9IHJlcS5xdWVyeS5fZW1iZWRcbiAgICBjb25zdCBfZXhwYW5kID0gcmVxLnF1ZXJ5Ll9leHBhbmRcbiAgICBjb25zdCByZXNvdXJjZSA9IGRiLmdldChuYW1lKS5nZXRCeUlkKHJlcS5wYXJhbXMuaWQpLnZhbHVlKClcblxuICAgIGlmIChyZXNvdXJjZSkge1xuICAgICAgLy8gQ2xvbmUgcmVzb3VyY2UgdG8gYXZvaWQgbWFraW5nIGNoYW5nZXMgdG8gdGhlIHVuZGVybHlpbmcgb2JqZWN0XG4gICAgICBjb25zdCBjbG9uZSA9IF8uY2xvbmVEZWVwKHJlc291cmNlKVxuXG4gICAgICAvLyBFbWJlZCBvdGhlciByZXNvdXJjZXMgYmFzZWQgb24gcmVzb3VyY2UgaWRcbiAgICAgIC8vIC9wb3N0cy8xP19lbWJlZD1jb21tZW50c1xuICAgICAgZW1iZWQoY2xvbmUsIF9lbWJlZClcblxuICAgICAgLy8gRXhwYW5kIGlubmVyIHJlc291cmNlcyBiYXNlZCBvbiBpZFxuICAgICAgLy8gL3Bvc3RzLzE/X2V4cGFuZD11c2VyXG4gICAgICBleHBhbmQoY2xvbmUsIF9leHBhbmQpXG5cbiAgICAgIHJlcy5sb2NhbHMuZGF0YSA9IGNsb25lXG4gICAgfVxuXG4gICAgbmV4dCgpXG4gIH1cblxuICAvLyBQT1NUIC9uYW1lXG4gIGZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIGxldCByZXNvdXJjZVxuICAgIGlmIChvcHRzLl9pc0Zha2UpIHtcbiAgICAgIGNvbnN0IGlkID0gZGIuZ2V0KG5hbWUpLmNyZWF0ZUlkKCkudmFsdWUoKVxuICAgICAgcmVzb3VyY2UgPSB7IC4uLnJlcS5ib2R5LCBpZCB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc291cmNlID0gZGIuZ2V0KG5hbWUpLmluc2VydChyZXEuYm9keSkudmFsdWUoKVxuICAgIH1cblxuICAgIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUV4cG9zZS1IZWFkZXJzJywgJ0xvY2F0aW9uJylcbiAgICByZXMubG9jYXRpb24oYCR7Z2V0RnVsbFVSTChyZXEpfS8ke3Jlc291cmNlLmlkfWApXG5cbiAgICByZXMuc3RhdHVzKDIwMSlcbiAgICByZXMubG9jYWxzLmRhdGEgPSByZXNvdXJjZVxuXG4gICAgbmV4dCgpXG4gIH1cblxuICAvLyBQVVQgL25hbWUvOmlkXG4gIC8vIFBBVENIIC9uYW1lLzppZFxuICBmdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBsZXQgcmVzb3VyY2VcblxuICAgIGlmIChvcHRzLl9pc0Zha2UpIHtcbiAgICAgIHJlc291cmNlID0gZGIuZ2V0KG5hbWUpLmdldEJ5SWQoaWQpLnZhbHVlKClcblxuICAgICAgaWYgKHJlcS5tZXRob2QgPT09ICdQQVRDSCcpIHtcbiAgICAgICAgcmVzb3VyY2UgPSB7IC4uLnJlc291cmNlLCAuLi5yZXEuYm9keSB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvdXJjZSA9IHsgLi4ucmVxLmJvZHksIGlkOiByZXNvdXJjZS5pZCB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjaGFpbiA9IGRiLmdldChuYW1lKVxuXG4gICAgICBjaGFpbiA9XG4gICAgICAgIHJlcS5tZXRob2QgPT09ICdQQVRDSCdcbiAgICAgICAgICA/IGNoYWluLnVwZGF0ZUJ5SWQoaWQsIHJlcS5ib2R5KVxuICAgICAgICAgIDogY2hhaW4ucmVwbGFjZUJ5SWQoaWQsIHJlcS5ib2R5KVxuXG4gICAgICByZXNvdXJjZSA9IGNoYWluLnZhbHVlKClcbiAgICB9XG5cbiAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgIHJlcy5sb2NhbHMuZGF0YSA9IHJlc291cmNlXG4gICAgfVxuXG4gICAgbmV4dCgpXG4gIH1cblxuICAvLyBERUxFVEUgL25hbWUvOmlkXG4gIGZ1bmN0aW9uIGRlc3Ryb3kocmVxLCByZXMsIG5leHQpIHtcbiAgICBsZXQgcmVzb3VyY2VcblxuICAgIGlmIChvcHRzLl9pc0Zha2UpIHtcbiAgICAgIHJlc291cmNlID0gZGIuZ2V0KG5hbWUpLnZhbHVlKClcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb3VyY2UgPSBkYi5nZXQobmFtZSkucmVtb3ZlQnlJZChyZXEucGFyYW1zLmlkKS52YWx1ZSgpXG5cbiAgICAgIC8vIFJlbW92ZSBkZXBlbmRlbnRzIGRvY3VtZW50c1xuICAgICAgY29uc3QgcmVtb3ZhYmxlID0gZGIuXy5nZXRSZW1vdmFibGUoZGIuZ2V0U3RhdGUoKSwgb3B0cylcbiAgICAgIHJlbW92YWJsZS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGRiLmdldChpdGVtLm5hbWUpLnJlbW92ZUJ5SWQoaXRlbS5pZCkudmFsdWUoKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgIHJlcy5sb2NhbHMuZGF0YSA9IHt9XG4gICAgfVxuXG4gICAgbmV4dCgpXG4gIH1cblxuICBjb25zdCB3ID0gd3JpdGUoZGIpXG5cbiAgcm91dGVyLnJvdXRlKCcvJykuZ2V0KGxpc3QpLnBvc3QoY3JlYXRlLCB3KVxuXG4gIHJvdXRlclxuICAgIC5yb3V0ZSgnLzppZCcpXG4gICAgLmdldChzaG93KVxuICAgIC5wdXQodXBkYXRlLCB3KVxuICAgIC5wYXRjaCh1cGRhdGUsIHcpXG4gICAgLmRlbGV0ZShkZXN0cm95LCB3KVxuXG4gIHJldHVybiByb3V0ZXJcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "plural.js"
      ],
      "names": [
        "express",
        "require",
        "_",
        "pluralize",
        "write",
        "getFullURL",
        "utils",
        "delay",
        "module",
        "exports",
        "db",
        "name",
        "opts",
        "router",
        "Router",
        "use",
        "embed",
        "resource",
        "e",
        "concat",
        "forEach",
        "externalResource",
        "get",
        "value",
        "query",
        "singularResource",
        "singular",
        "foreignKeySuffix",
        "id",
        "filter",
        "expand",
        "innerResource",
        "plural",
        "prop",
        "getById",
        "list",
        "req",
        "res",
        "next",
        "chain",
        "q",
        "_start",
        "_end",
        "_page",
        "_sort",
        "_order",
        "_limit",
        "_embed",
        "_expand",
        "Object",
        "keys",
        "arr",
        "i",
        "has",
        "test",
        "Array",
        "isArray",
        "toLowerCase",
        "obj",
        "key",
        "deepQuery",
        "isDifferent",
        "isRange",
        "isLike",
        "path",
        "replace",
        "element",
        "map",
        "elementValue",
        "undefined",
        "isLowerThan",
        "toString",
        "RegExp",
        "reduce",
        "a",
        "b",
        "_sortSet",
        "split",
        "_orderSet",
        "s",
        "orderBy",
        "setHeader",
        "size",
        "parseInt",
        "page",
        "getPage",
        "links",
        "fullURL",
        "first",
        "current",
        "prev",
        "last",
        "items",
        "slice",
        "cloneDeep",
        "locals",
        "data",
        "show",
        "params",
        "clone",
        "create",
        "_isFake",
        "createId",
        "body",
        "insert",
        "location",
        "status",
        "update",
        "method",
        "updateById",
        "replaceById",
        "destroy",
        "removeById",
        "removable",
        "getRemovable",
        "getState",
        "item",
        "w",
        "route",
        "post",
        "put",
        "patch",
        "delete"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "sourcesContent": [
        "const express = require('express')\nconst _ = require('lodash')\nconst pluralize = require('pluralize')\nconst write = require('./write')\nconst getFullURL = require('./get-full-url')\nconst utils = require('../utils')\nconst delay = require('./delay')\n\nmodule.exports = (db, name, opts) => {\n  // Create router\n  const router = express.Router()\n  router.use(delay)\n\n  // Embed function used in GET /name and GET /name/id\n  function embed(resource, e) {\n    e &&\n      [].concat(e).forEach((externalResource) => {\n        if (db.get(externalResource).value) {\n          const query = {}\n          const singularResource = pluralize.singular(name)\n          query[`${singularResource}${opts.foreignKeySuffix}`] = resource.id\n          resource[externalResource] = db\n            .get(externalResource)\n            .filter(query)\n            .value()\n        }\n      })\n  }\n\n  // Expand function used in GET /name and GET /name/id\n  function expand(resource, e) {\n    e &&\n      [].concat(e).forEach((innerResource) => {\n        const plural = pluralize(innerResource)\n        if (db.get(plural).value()) {\n          const prop = `${innerResource}${opts.foreignKeySuffix}`\n          resource[innerResource] = db\n            .get(plural)\n            .getById(resource[prop])\n            .value()\n        }\n      })\n  }\n\n  // GET /name\n  // GET /name?q=\n  // GET /name?attr=&attr=\n  // GET /name?_end=&\n  // GET /name?_start=&_end=&\n  // GET /name?_embed=&_expand=\n  function list(req, res, next) {\n    // Resource chain\n    let chain = db.get(name)\n\n    // Remove q, _start, _end, ... from req.query to avoid filtering using those\n    // parameters\n    let q = req.query.q\n    let _start = req.query._start\n    let _end = req.query._end\n    let _page = req.query._page\n    const _sort = req.query._sort\n    const _order = req.query._order\n    let _limit = req.query._limit\n    const _embed = req.query._embed\n    const _expand = req.query._expand\n    delete req.query.q\n    delete req.query._start\n    delete req.query._end\n    delete req.query._sort\n    delete req.query._order\n    delete req.query._limit\n    delete req.query._embed\n    delete req.query._expand\n\n    // Automatically delete query parameters that can't be found\n    // in the database\n    Object.keys(req.query).forEach((query) => {\n      const arr = db.get(name).value()\n      for (const i in arr) {\n        if (\n          _.has(arr[i], query) ||\n          query === 'callback' ||\n          query === '_' ||\n          /_lte$/.test(query) ||\n          /_gte$/.test(query) ||\n          /_ne$/.test(query) ||\n          /_like$/.test(query)\n        )\n          return\n      }\n      delete req.query[query]\n    })\n\n    if (q) {\n      // Full-text search\n      if (Array.isArray(q)) {\n        q = q[0]\n      }\n\n      q = q.toLowerCase()\n\n      chain = chain.filter((obj) => {\n        for (const key in obj) {\n          const value = obj[key]\n          if (db._.deepQuery(value, q)) {\n            return true\n          }\n        }\n        return false\n      })\n    }\n\n    Object.keys(req.query).forEach((key) => {\n      // Don't take into account JSONP query parameters\n      // jQuery adds a '_' query parameter too\n      if (key !== 'callback' && key !== '_') {\n        // Always use an array, in case req.query is an array\n        const arr = [].concat(req.query[key])\n\n        const isDifferent = /_ne$/.test(key)\n        const isRange = /_lte$/.test(key) || /_gte$/.test(key)\n        const isLike = /_like$/.test(key)\n        const path = key.replace(/(_lte|_gte|_ne|_like)$/, '')\n\n        chain = chain.filter((element) => {\n          return arr\n            .map(function (value) {\n              // get item value based on path\n              // i.e post.title -> 'foo'\n              const elementValue = _.get(element, path)\n\n              // Prevent toString() failing on undefined or null values\n              if (elementValue === undefined || elementValue === null) {\n                return undefined\n              }\n\n              if (isRange) {\n                const isLowerThan = /_gte$/.test(key)\n\n                return isLowerThan\n                  ? value <= elementValue\n                  : value >= elementValue\n              } else if (isDifferent) {\n                return value !== elementValue.toString()\n              } else if (isLike) {\n                return new RegExp(value, 'i').test(elementValue.toString())\n              } else {\n                return value === elementValue.toString()\n              }\n            })\n            .reduce((a, b) => (isDifferent ? a && b : a || b))\n        })\n      }\n    })\n\n    // Sort\n    if (_sort) {\n      const _sortSet = _sort.split(',')\n      const _orderSet = (_order || '').split(',').map((s) => s.toLowerCase())\n      chain = chain.orderBy(_sortSet, _orderSet)\n    }\n\n    // Slice result\n    if (_end || _limit || _page) {\n      res.setHeader('X-Total-Count', chain.size())\n      res.setHeader(\n        'Access-Control-Expose-Headers',\n        `X-Total-Count${_page ? ', Link' : ''}`\n      )\n    }\n\n    if (_page) {\n      _page = parseInt(_page, 10)\n      _page = _page >= 1 ? _page : 1\n      _limit = parseInt(_limit, 10) || 10\n      const page = utils.getPage(chain.value(), _page, _limit)\n      const links = {}\n      const fullURL = getFullURL(req)\n\n      if (page.first) {\n        links.first = fullURL.replace(\n          `page=${page.current}`,\n          `page=${page.first}`\n        )\n      }\n\n      if (page.prev) {\n        links.prev = fullURL.replace(\n          `page=${page.current}`,\n          `page=${page.prev}`\n        )\n      }\n\n      if (page.next) {\n        links.next = fullURL.replace(\n          `page=${page.current}`,\n          `page=${page.next}`\n        )\n      }\n\n      if (page.last) {\n        links.last = fullURL.replace(\n          `page=${page.current}`,\n          `page=${page.last}`\n        )\n      }\n\n      res.links(links)\n      chain = _.chain(page.items)\n    } else if (_end) {\n      _start = parseInt(_start, 10) || 0\n      _end = parseInt(_end, 10)\n      chain = chain.slice(_start, _end)\n    } else if (_limit) {\n      _start = parseInt(_start, 10) || 0\n      _limit = parseInt(_limit, 10)\n      chain = chain.slice(_start, _start + _limit)\n    }\n\n    // embed and expand\n    chain = chain.cloneDeep().forEach(function (element) {\n      embed(element, _embed)\n      expand(element, _expand)\n    })\n\n    res.locals.data = chain.value()\n    next()\n  }\n\n  // GET /name/:id\n  // GET /name/:id?_embed=&_expand\n  function show(req, res, next) {\n    const _embed = req.query._embed\n    const _expand = req.query._expand\n    const resource = db.get(name).getById(req.params.id).value()\n\n    if (resource) {\n      // Clone resource to avoid making changes to the underlying object\n      const clone = _.cloneDeep(resource)\n\n      // Embed other resources based on resource id\n      // /posts/1?_embed=comments\n      embed(clone, _embed)\n\n      // Expand inner resources based on id\n      // /posts/1?_expand=user\n      expand(clone, _expand)\n\n      res.locals.data = clone\n    }\n\n    next()\n  }\n\n  // POST /name\n  function create(req, res, next) {\n    let resource\n    if (opts._isFake) {\n      const id = db.get(name).createId().value()\n      resource = { ...req.body, id }\n    } else {\n      resource = db.get(name).insert(req.body).value()\n    }\n\n    res.setHeader('Access-Control-Expose-Headers', 'Location')\n    res.location(`${getFullURL(req)}/${resource.id}`)\n\n    res.status(201)\n    res.locals.data = resource\n\n    next()\n  }\n\n  // PUT /name/:id\n  // PATCH /name/:id\n  function update(req, res, next) {\n    const id = req.params.id\n    let resource\n\n    if (opts._isFake) {\n      resource = db.get(name).getById(id).value()\n\n      if (req.method === 'PATCH') {\n        resource = { ...resource, ...req.body }\n      } else {\n        resource = { ...req.body, id: resource.id }\n      }\n    } else {\n      let chain = db.get(name)\n\n      chain =\n        req.method === 'PATCH'\n          ? chain.updateById(id, req.body)\n          : chain.replaceById(id, req.body)\n\n      resource = chain.value()\n    }\n\n    if (resource) {\n      res.locals.data = resource\n    }\n\n    next()\n  }\n\n  // DELETE /name/:id\n  function destroy(req, res, next) {\n    let resource\n\n    if (opts._isFake) {\n      resource = db.get(name).value()\n    } else {\n      resource = db.get(name).removeById(req.params.id).value()\n\n      // Remove dependents documents\n      const removable = db._.getRemovable(db.getState(), opts)\n      removable.forEach((item) => {\n        db.get(item.name).removeById(item.id).value()\n      })\n    }\n\n    if (resource) {\n      res.locals.data = {}\n    }\n\n    next()\n  }\n\n  const w = write(db)\n\n  router.route('/').get(list).post(create, w)\n\n  router\n    .route('/:id')\n    .get(show)\n    .put(update, w)\n    .patch(update, w)\n    .delete(destroy, w)\n\n  return router\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/write.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/write.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/router/write.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/write.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
        "sourceFileName": "write.js"
      }
    },
    "ast": null,
    "code": "module.exports = function write(db) {\n  return (req, res, next) => {\n    db.write();\n    next();\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyaXRlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJ3cml0ZSIsImRiIiwicmVxIiwicmVzIiwibmV4dCJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxLQUFULENBQWVDLEVBQWYsRUFBbUI7QUFDbEMsU0FBTyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN6QkgsSUFBQUEsRUFBRSxDQUFDRCxLQUFIO0FBQ0FJLElBQUFBLElBQUk7QUFDTCxHQUhEO0FBSUQsQ0FMRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFyaW5hbWFyaW5hL0Rlc2t0b3AvdGVzdGluZy9zZXJ2ZXIvc3JjL3NlcnZlci9yb3V0ZXIvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3cml0ZShkYikge1xuICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgZGIud3JpdGUoKVxuICAgIG5leHQoKVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "write.js"
      ],
      "names": [
        "module",
        "exports",
        "write",
        "db",
        "req",
        "res",
        "next"
      ],
      "mappings": "AAAAA,MAAM,CAACC,OAAP,GAAiB,SAASC,KAAT,CAAeC,EAAf,EAAmB;AAClC,SAAO,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzBH,IAAAA,EAAE,CAACD,KAAH;AACAI,IAAAA,IAAI;AACL,GAHD;AAID,CALD",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "sourcesContent": [
        "module.exports = function write(db) {\n  return (req, res, next) => {\n    db.write()\n    next()\n  }\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/get-full-url.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/get-full-url.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/router/get-full-url.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/get-full-url.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
        "sourceFileName": "get-full-url.js"
      }
    },
    "ast": null,
    "code": "const url = require('url');\n\nmodule.exports = function getFullURL(req) {\n  const root = url.format({\n    protocol: req.protocol,\n    host: req.get('host')\n  });\n  return `${root}${req.originalUrl}`;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldC1mdWxsLXVybC5qcyJdLCJuYW1lcyI6WyJ1cmwiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldEZ1bGxVUkwiLCJyZXEiLCJyb290IiwiZm9ybWF0IiwicHJvdG9jb2wiLCJob3N0IiwiZ2V0Iiwib3JpZ2luYWxVcmwiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxVQUFULENBQW9CQyxHQUFwQixFQUF5QjtBQUN4QyxRQUFNQyxJQUFJLEdBQUdOLEdBQUcsQ0FBQ08sTUFBSixDQUFXO0FBQ3RCQyxJQUFBQSxRQUFRLEVBQUVILEdBQUcsQ0FBQ0csUUFEUTtBQUV0QkMsSUFBQUEsSUFBSSxFQUFFSixHQUFHLENBQUNLLEdBQUosQ0FBUSxNQUFSO0FBRmdCLEdBQVgsQ0FBYjtBQUtBLFNBQVEsR0FBRUosSUFBSyxHQUFFRCxHQUFHLENBQUNNLFdBQVksRUFBakM7QUFDRCxDQVBEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXJpbmFtYXJpbmEvRGVza3RvcC90ZXN0aW5nL3NlcnZlci9zcmMvc2VydmVyL3JvdXRlci8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB1cmwgPSByZXF1aXJlKCd1cmwnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldEZ1bGxVUkwocmVxKSB7XG4gIGNvbnN0IHJvb3QgPSB1cmwuZm9ybWF0KHtcbiAgICBwcm90b2NvbDogcmVxLnByb3RvY29sLFxuICAgIGhvc3Q6IHJlcS5nZXQoJ2hvc3QnKSxcbiAgfSlcblxuICByZXR1cm4gYCR7cm9vdH0ke3JlcS5vcmlnaW5hbFVybH1gXG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "get-full-url.js"
      ],
      "names": [
        "url",
        "require",
        "module",
        "exports",
        "getFullURL",
        "req",
        "root",
        "format",
        "protocol",
        "host",
        "get",
        "originalUrl"
      ],
      "mappings": "AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,UAAT,CAAoBC,GAApB,EAAyB;AACxC,QAAMC,IAAI,GAAGN,GAAG,CAACO,MAAJ,CAAW;AACtBC,IAAAA,QAAQ,EAAEH,GAAG,CAACG,QADQ;AAEtBC,IAAAA,IAAI,EAAEJ,GAAG,CAACK,GAAJ,CAAQ,MAAR;AAFgB,GAAX,CAAb;AAKA,SAAQ,GAAEJ,IAAK,GAAED,GAAG,CAACM,WAAY,EAAjC;AACD,CAPD",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "sourcesContent": [
        "const url = require('url')\n\nmodule.exports = function getFullURL(req) {\n  const root = url.format({\n    protocol: req.protocol,\n    host: req.get('host'),\n  })\n\n  return `${root}${req.originalUrl}`\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/utils.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/utils.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "module.exports = {\n  getPage\n};\n\nfunction getPage(array, page, perPage) {\n  const obj = {};\n  const start = (page - 1) * perPage;\n  const end = page * perPage;\n  obj.items = array.slice(start, end);\n\n  if (obj.items.length === 0) {\n    return obj;\n  }\n\n  if (page > 1) {\n    obj.prev = page - 1;\n  }\n\n  if (end < array.length) {\n    obj.next = page + 1;\n  }\n\n  if (obj.items.length !== array.length) {\n    obj.current = page;\n    obj.first = 1;\n    obj.last = Math.ceil(array.length / perPage);\n  }\n\n  return obj;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJnZXRQYWdlIiwiYXJyYXkiLCJwYWdlIiwicGVyUGFnZSIsIm9iaiIsInN0YXJ0IiwiZW5kIiwiaXRlbXMiLCJzbGljZSIsImxlbmd0aCIsInByZXYiLCJuZXh0IiwiY3VycmVudCIsImZpcnN0IiwibGFzdCIsIk1hdGgiLCJjZWlsIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZDLEVBQUFBO0FBRGUsQ0FBakI7O0FBSUEsU0FBU0EsT0FBVCxDQUFpQkMsS0FBakIsRUFBd0JDLElBQXhCLEVBQThCQyxPQUE5QixFQUF1QztBQUNyQyxRQUFNQyxHQUFHLEdBQUcsRUFBWjtBQUNBLFFBQU1DLEtBQUssR0FBRyxDQUFDSCxJQUFJLEdBQUcsQ0FBUixJQUFhQyxPQUEzQjtBQUNBLFFBQU1HLEdBQUcsR0FBR0osSUFBSSxHQUFHQyxPQUFuQjtBQUVBQyxFQUFBQSxHQUFHLENBQUNHLEtBQUosR0FBWU4sS0FBSyxDQUFDTyxLQUFOLENBQVlILEtBQVosRUFBbUJDLEdBQW5CLENBQVo7O0FBQ0EsTUFBSUYsR0FBRyxDQUFDRyxLQUFKLENBQVVFLE1BQVYsS0FBcUIsQ0FBekIsRUFBNEI7QUFDMUIsV0FBT0wsR0FBUDtBQUNEOztBQUVELE1BQUlGLElBQUksR0FBRyxDQUFYLEVBQWM7QUFDWkUsSUFBQUEsR0FBRyxDQUFDTSxJQUFKLEdBQVdSLElBQUksR0FBRyxDQUFsQjtBQUNEOztBQUVELE1BQUlJLEdBQUcsR0FBR0wsS0FBSyxDQUFDUSxNQUFoQixFQUF3QjtBQUN0QkwsSUFBQUEsR0FBRyxDQUFDTyxJQUFKLEdBQVdULElBQUksR0FBRyxDQUFsQjtBQUNEOztBQUVELE1BQUlFLEdBQUcsQ0FBQ0csS0FBSixDQUFVRSxNQUFWLEtBQXFCUixLQUFLLENBQUNRLE1BQS9CLEVBQXVDO0FBQ3JDTCxJQUFBQSxHQUFHLENBQUNRLE9BQUosR0FBY1YsSUFBZDtBQUNBRSxJQUFBQSxHQUFHLENBQUNTLEtBQUosR0FBWSxDQUFaO0FBQ0FULElBQUFBLEdBQUcsQ0FBQ1UsSUFBSixHQUFXQyxJQUFJLENBQUNDLElBQUwsQ0FBVWYsS0FBSyxDQUFDUSxNQUFOLEdBQWVOLE9BQXpCLENBQVg7QUFDRDs7QUFFRCxTQUFPQyxHQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hcmluYW1hcmluYS9EZXNrdG9wL3Rlc3Rpbmcvc2VydmVyL3NyYy9zZXJ2ZXIvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldFBhZ2UsXG59XG5cbmZ1bmN0aW9uIGdldFBhZ2UoYXJyYXksIHBhZ2UsIHBlclBhZ2UpIHtcbiAgY29uc3Qgb2JqID0ge31cbiAgY29uc3Qgc3RhcnQgPSAocGFnZSAtIDEpICogcGVyUGFnZVxuICBjb25zdCBlbmQgPSBwYWdlICogcGVyUGFnZVxuXG4gIG9iai5pdGVtcyA9IGFycmF5LnNsaWNlKHN0YXJ0LCBlbmQpXG4gIGlmIChvYmouaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9ialxuICB9XG5cbiAgaWYgKHBhZ2UgPiAxKSB7XG4gICAgb2JqLnByZXYgPSBwYWdlIC0gMVxuICB9XG5cbiAgaWYgKGVuZCA8IGFycmF5Lmxlbmd0aCkge1xuICAgIG9iai5uZXh0ID0gcGFnZSArIDFcbiAgfVxuXG4gIGlmIChvYmouaXRlbXMubGVuZ3RoICE9PSBhcnJheS5sZW5ndGgpIHtcbiAgICBvYmouY3VycmVudCA9IHBhZ2VcbiAgICBvYmouZmlyc3QgPSAxXG4gICAgb2JqLmxhc3QgPSBNYXRoLmNlaWwoYXJyYXkubGVuZ3RoIC8gcGVyUGFnZSlcbiAgfVxuXG4gIHJldHVybiBvYmpcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "module",
        "exports",
        "getPage",
        "array",
        "page",
        "perPage",
        "obj",
        "start",
        "end",
        "items",
        "slice",
        "length",
        "prev",
        "next",
        "current",
        "first",
        "last",
        "Math",
        "ceil"
      ],
      "mappings": "AAAAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA;AADe,CAAjB;;AAIA,SAASA,OAAT,CAAiBC,KAAjB,EAAwBC,IAAxB,EAA8BC,OAA9B,EAAuC;AACrC,QAAMC,GAAG,GAAG,EAAZ;AACA,QAAMC,KAAK,GAAG,CAACH,IAAI,GAAG,CAAR,IAAaC,OAA3B;AACA,QAAMG,GAAG,GAAGJ,IAAI,GAAGC,OAAnB;AAEAC,EAAAA,GAAG,CAACG,KAAJ,GAAYN,KAAK,CAACO,KAAN,CAAYH,KAAZ,EAAmBC,GAAnB,CAAZ;;AACA,MAAIF,GAAG,CAACG,KAAJ,CAAUE,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,WAAOL,GAAP;AACD;;AAED,MAAIF,IAAI,GAAG,CAAX,EAAc;AACZE,IAAAA,GAAG,CAACM,IAAJ,GAAWR,IAAI,GAAG,CAAlB;AACD;;AAED,MAAII,GAAG,GAAGL,KAAK,CAACQ,MAAhB,EAAwB;AACtBL,IAAAA,GAAG,CAACO,IAAJ,GAAWT,IAAI,GAAG,CAAlB;AACD;;AAED,MAAIE,GAAG,CAACG,KAAJ,CAAUE,MAAV,KAAqBR,KAAK,CAACQ,MAA/B,EAAuC;AACrCL,IAAAA,GAAG,CAACQ,OAAJ,GAAcV,IAAd;AACAE,IAAAA,GAAG,CAACS,KAAJ,GAAY,CAAZ;AACAT,IAAAA,GAAG,CAACU,IAAJ,GAAWC,IAAI,CAACC,IAAL,CAAUf,KAAK,CAACQ,MAAN,GAAeN,OAAzB,CAAX;AACD;;AAED,SAAOC,GAAP;AACD",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "sourcesContent": [
        "module.exports = {\n  getPage,\n}\n\nfunction getPage(array, page, perPage) {\n  const obj = {}\n  const start = (page - 1) * perPage\n  const end = page * perPage\n\n  obj.items = array.slice(start, end)\n  if (obj.items.length === 0) {\n    return obj\n  }\n\n  if (page > 1) {\n    obj.prev = page - 1\n  }\n\n  if (end < array.length) {\n    obj.next = page + 1\n  }\n\n  if (obj.items.length !== array.length) {\n    obj.current = page\n    obj.first = 1\n    obj.last = Math.ceil(array.length / perPage)\n  }\n\n  return obj\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/delay.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/delay.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/router/delay.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/delay.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
        "sourceFileName": "delay.js"
      }
    },
    "ast": null,
    "code": "const pause = require('connect-pause');\n\nmodule.exports = function delay(req, res, next) {\n  // NOTE: for some reason unknown to me, if the default is 0, the tests seems to add 2 seconds\n  // NOTE: to each test, a default value of 1 does not seem to be effected by that issue\n  const _delay = !isNaN(parseFloat(req.query._delay)) ? parseFloat(req.query._delay) : 1;\n\n  delete req.query._delay;\n  pause(_delay)(req, res, next);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbGF5LmpzIl0sIm5hbWVzIjpbInBhdXNlIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWxheSIsInJlcSIsInJlcyIsIm5leHQiLCJfZGVsYXkiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJxdWVyeSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUFyQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLEtBQVQsQ0FBZUMsR0FBZixFQUFvQkMsR0FBcEIsRUFBeUJDLElBQXpCLEVBQStCO0FBQzlDO0FBQ0E7QUFDQSxRQUFNQyxNQUFNLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDQyxVQUFVLENBQUNMLEdBQUcsQ0FBQ00sS0FBSixDQUFVSCxNQUFYLENBQVgsQ0FBTixHQUNYRSxVQUFVLENBQUNMLEdBQUcsQ0FBQ00sS0FBSixDQUFVSCxNQUFYLENBREMsR0FFWCxDQUZKOztBQUdBLFNBQU9ILEdBQUcsQ0FBQ00sS0FBSixDQUFVSCxNQUFqQjtBQUNBUixFQUFBQSxLQUFLLENBQUNRLE1BQUQsQ0FBTCxDQUFjSCxHQUFkLEVBQW1CQyxHQUFuQixFQUF3QkMsSUFBeEI7QUFDRCxDQVJEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXJpbmFtYXJpbmEvRGVza3RvcC90ZXN0aW5nL3NlcnZlci9zcmMvc2VydmVyL3JvdXRlci8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYXVzZSA9IHJlcXVpcmUoJ2Nvbm5lY3QtcGF1c2UnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlbGF5KHJlcSwgcmVzLCBuZXh0KSB7XG4gIC8vIE5PVEU6IGZvciBzb21lIHJlYXNvbiB1bmtub3duIHRvIG1lLCBpZiB0aGUgZGVmYXVsdCBpcyAwLCB0aGUgdGVzdHMgc2VlbXMgdG8gYWRkIDIgc2Vjb25kc1xuICAvLyBOT1RFOiB0byBlYWNoIHRlc3QsIGEgZGVmYXVsdCB2YWx1ZSBvZiAxIGRvZXMgbm90IHNlZW0gdG8gYmUgZWZmZWN0ZWQgYnkgdGhhdCBpc3N1ZVxuICBjb25zdCBfZGVsYXkgPSAhaXNOYU4ocGFyc2VGbG9hdChyZXEucXVlcnkuX2RlbGF5KSlcbiAgICA/IHBhcnNlRmxvYXQocmVxLnF1ZXJ5Ll9kZWxheSlcbiAgICA6IDFcbiAgZGVsZXRlIHJlcS5xdWVyeS5fZGVsYXlcbiAgcGF1c2UoX2RlbGF5KShyZXEsIHJlcywgbmV4dClcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "delay.js"
      ],
      "names": [
        "pause",
        "require",
        "module",
        "exports",
        "delay",
        "req",
        "res",
        "next",
        "_delay",
        "isNaN",
        "parseFloat",
        "query"
      ],
      "mappings": "AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,eAAD,CAArB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,KAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AAC9C;AACA;AACA,QAAMC,MAAM,GAAG,CAACC,KAAK,CAACC,UAAU,CAACL,GAAG,CAACM,KAAJ,CAAUH,MAAX,CAAX,CAAN,GACXE,UAAU,CAACL,GAAG,CAACM,KAAJ,CAAUH,MAAX,CADC,GAEX,CAFJ;;AAGA,SAAOH,GAAG,CAACM,KAAJ,CAAUH,MAAjB;AACAR,EAAAA,KAAK,CAACQ,MAAD,CAAL,CAAcH,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB;AACD,CARD",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "sourcesContent": [
        "const pause = require('connect-pause')\n\nmodule.exports = function delay(req, res, next) {\n  // NOTE: for some reason unknown to me, if the default is 0, the tests seems to add 2 seconds\n  // NOTE: to each test, a default value of 1 does not seem to be effected by that issue\n  const _delay = !isNaN(parseFloat(req.query._delay))\n    ? parseFloat(req.query._delay)\n    : 1\n  delete req.query._delay\n  pause(_delay)(req, res, next)\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/nested.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/nested.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/router/nested.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/nested.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
        "sourceFileName": "nested.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst pluralize = require('pluralize');\n\nconst delay = require('./delay');\n\nmodule.exports = opts => {\n  const router = express.Router();\n  router.use(delay); // Rewrite URL (/:resource/:id/:nested -> /:nested) and request query\n\n  function get(req, res, next) {\n    const prop = pluralize.singular(req.params.resource);\n    req.query[`${prop}${opts.foreignKeySuffix}`] = req.params.id;\n    req.url = `/${req.params.nested}`;\n    next();\n  } // Rewrite URL (/:resource/:id/:nested -> /:nested) and request body\n\n\n  function post(req, res, next) {\n    const prop = pluralize.singular(req.params.resource);\n    req.body[`${prop}${opts.foreignKeySuffix}`] = req.params.id;\n    req.url = `/${req.params.nested}`;\n    next();\n  }\n\n  return router.get('/:resource/:id/:nested', get).post('/:resource/:id/:nested', post);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5lc3RlZC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInBsdXJhbGl6ZSIsImRlbGF5IiwibW9kdWxlIiwiZXhwb3J0cyIsIm9wdHMiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJ1c2UiLCJnZXQiLCJyZXEiLCJyZXMiLCJuZXh0IiwicHJvcCIsInNpbmd1bGFyIiwicGFyYW1zIiwicmVzb3VyY2UiLCJxdWVyeSIsImZvcmVpZ25LZXlTdWZmaXgiLCJpZCIsInVybCIsIm5lc3RlZCIsInBvc3QiLCJib2R5Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLFNBQVMsR0FBR0QsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUUsS0FBSyxHQUFHRixPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFFQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWtCQyxJQUFELElBQVU7QUFDekIsUUFBTUMsTUFBTSxHQUFHUCxPQUFPLENBQUNRLE1BQVIsRUFBZjtBQUNBRCxFQUFBQSxNQUFNLENBQUNFLEdBQVAsQ0FBV04sS0FBWCxFQUZ5QixDQUl6Qjs7QUFDQSxXQUFTTyxHQUFULENBQWFDLEdBQWIsRUFBa0JDLEdBQWxCLEVBQXVCQyxJQUF2QixFQUE2QjtBQUMzQixVQUFNQyxJQUFJLEdBQUdaLFNBQVMsQ0FBQ2EsUUFBVixDQUFtQkosR0FBRyxDQUFDSyxNQUFKLENBQVdDLFFBQTlCLENBQWI7QUFDQU4sSUFBQUEsR0FBRyxDQUFDTyxLQUFKLENBQVcsR0FBRUosSUFBSyxHQUFFUixJQUFJLENBQUNhLGdCQUFpQixFQUExQyxJQUErQ1IsR0FBRyxDQUFDSyxNQUFKLENBQVdJLEVBQTFEO0FBQ0FULElBQUFBLEdBQUcsQ0FBQ1UsR0FBSixHQUFXLElBQUdWLEdBQUcsQ0FBQ0ssTUFBSixDQUFXTSxNQUFPLEVBQWhDO0FBQ0FULElBQUFBLElBQUk7QUFDTCxHQVZ3QixDQVl6Qjs7O0FBQ0EsV0FBU1UsSUFBVCxDQUFjWixHQUFkLEVBQW1CQyxHQUFuQixFQUF3QkMsSUFBeEIsRUFBOEI7QUFDNUIsVUFBTUMsSUFBSSxHQUFHWixTQUFTLENBQUNhLFFBQVYsQ0FBbUJKLEdBQUcsQ0FBQ0ssTUFBSixDQUFXQyxRQUE5QixDQUFiO0FBQ0FOLElBQUFBLEdBQUcsQ0FBQ2EsSUFBSixDQUFVLEdBQUVWLElBQUssR0FBRVIsSUFBSSxDQUFDYSxnQkFBaUIsRUFBekMsSUFBOENSLEdBQUcsQ0FBQ0ssTUFBSixDQUFXSSxFQUF6RDtBQUNBVCxJQUFBQSxHQUFHLENBQUNVLEdBQUosR0FBVyxJQUFHVixHQUFHLENBQUNLLE1BQUosQ0FBV00sTUFBTyxFQUFoQztBQUNBVCxJQUFBQSxJQUFJO0FBQ0w7O0FBRUQsU0FBT04sTUFBTSxDQUNWRyxHQURJLENBQ0Esd0JBREEsRUFDMEJBLEdBRDFCLEVBRUphLElBRkksQ0FFQyx3QkFGRCxFQUUyQkEsSUFGM0IsQ0FBUDtBQUdELENBdkJEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXJpbmFtYXJpbmEvRGVza3RvcC90ZXN0aW5nL3NlcnZlci9zcmMvc2VydmVyL3JvdXRlci8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXG5jb25zdCBwbHVyYWxpemUgPSByZXF1aXJlKCdwbHVyYWxpemUnKVxuY29uc3QgZGVsYXkgPSByZXF1aXJlKCcuL2RlbGF5JylcblxubW9kdWxlLmV4cG9ydHMgPSAob3B0cykgPT4ge1xuICBjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXG4gIHJvdXRlci51c2UoZGVsYXkpXG5cbiAgLy8gUmV3cml0ZSBVUkwgKC86cmVzb3VyY2UvOmlkLzpuZXN0ZWQgLT4gLzpuZXN0ZWQpIGFuZCByZXF1ZXN0IHF1ZXJ5XG4gIGZ1bmN0aW9uIGdldChyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHByb3AgPSBwbHVyYWxpemUuc2luZ3VsYXIocmVxLnBhcmFtcy5yZXNvdXJjZSlcbiAgICByZXEucXVlcnlbYCR7cHJvcH0ke29wdHMuZm9yZWlnbktleVN1ZmZpeH1gXSA9IHJlcS5wYXJhbXMuaWRcbiAgICByZXEudXJsID0gYC8ke3JlcS5wYXJhbXMubmVzdGVkfWBcbiAgICBuZXh0KClcbiAgfVxuXG4gIC8vIFJld3JpdGUgVVJMICgvOnJlc291cmNlLzppZC86bmVzdGVkIC0+IC86bmVzdGVkKSBhbmQgcmVxdWVzdCBib2R5XG4gIGZ1bmN0aW9uIHBvc3QocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCBwcm9wID0gcGx1cmFsaXplLnNpbmd1bGFyKHJlcS5wYXJhbXMucmVzb3VyY2UpXG4gICAgcmVxLmJvZHlbYCR7cHJvcH0ke29wdHMuZm9yZWlnbktleVN1ZmZpeH1gXSA9IHJlcS5wYXJhbXMuaWRcbiAgICByZXEudXJsID0gYC8ke3JlcS5wYXJhbXMubmVzdGVkfWBcbiAgICBuZXh0KClcbiAgfVxuXG4gIHJldHVybiByb3V0ZXJcbiAgICAuZ2V0KCcvOnJlc291cmNlLzppZC86bmVzdGVkJywgZ2V0KVxuICAgIC5wb3N0KCcvOnJlc291cmNlLzppZC86bmVzdGVkJywgcG9zdClcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "nested.js"
      ],
      "names": [
        "express",
        "require",
        "pluralize",
        "delay",
        "module",
        "exports",
        "opts",
        "router",
        "Router",
        "use",
        "get",
        "req",
        "res",
        "next",
        "prop",
        "singular",
        "params",
        "resource",
        "query",
        "foreignKeySuffix",
        "id",
        "url",
        "nested",
        "post",
        "body"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,SAAD,CAArB;;AAEAG,MAAM,CAACC,OAAP,GAAkBC,IAAD,IAAU;AACzB,QAAMC,MAAM,GAAGP,OAAO,CAACQ,MAAR,EAAf;AACAD,EAAAA,MAAM,CAACE,GAAP,CAAWN,KAAX,EAFyB,CAIzB;;AACA,WAASO,GAAT,CAAaC,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,EAA6B;AAC3B,UAAMC,IAAI,GAAGZ,SAAS,CAACa,QAAV,CAAmBJ,GAAG,CAACK,MAAJ,CAAWC,QAA9B,CAAb;AACAN,IAAAA,GAAG,CAACO,KAAJ,CAAW,GAAEJ,IAAK,GAAER,IAAI,CAACa,gBAAiB,EAA1C,IAA+CR,GAAG,CAACK,MAAJ,CAAWI,EAA1D;AACAT,IAAAA,GAAG,CAACU,GAAJ,GAAW,IAAGV,GAAG,CAACK,MAAJ,CAAWM,MAAO,EAAhC;AACAT,IAAAA,IAAI;AACL,GAVwB,CAYzB;;;AACA,WAASU,IAAT,CAAcZ,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AAC5B,UAAMC,IAAI,GAAGZ,SAAS,CAACa,QAAV,CAAmBJ,GAAG,CAACK,MAAJ,CAAWC,QAA9B,CAAb;AACAN,IAAAA,GAAG,CAACa,IAAJ,CAAU,GAAEV,IAAK,GAAER,IAAI,CAACa,gBAAiB,EAAzC,IAA8CR,GAAG,CAACK,MAAJ,CAAWI,EAAzD;AACAT,IAAAA,GAAG,CAACU,GAAJ,GAAW,IAAGV,GAAG,CAACK,MAAJ,CAAWM,MAAO,EAAhC;AACAT,IAAAA,IAAI;AACL;;AAED,SAAON,MAAM,CACVG,GADI,CACA,wBADA,EAC0BA,GAD1B,EAEJa,IAFI,CAEC,wBAFD,EAE2BA,IAF3B,CAAP;AAGD,CAvBD",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "sourcesContent": [
        "const express = require('express')\nconst pluralize = require('pluralize')\nconst delay = require('./delay')\n\nmodule.exports = (opts) => {\n  const router = express.Router()\n  router.use(delay)\n\n  // Rewrite URL (/:resource/:id/:nested -> /:nested) and request query\n  function get(req, res, next) {\n    const prop = pluralize.singular(req.params.resource)\n    req.query[`${prop}${opts.foreignKeySuffix}`] = req.params.id\n    req.url = `/${req.params.nested}`\n    next()\n  }\n\n  // Rewrite URL (/:resource/:id/:nested -> /:nested) and request body\n  function post(req, res, next) {\n    const prop = pluralize.singular(req.params.resource)\n    req.body[`${prop}${opts.foreignKeySuffix}`] = req.params.id\n    req.url = `/${req.params.nested}`\n    next()\n  }\n\n  return router\n    .get('/:resource/:id/:nested', get)\n    .post('/:resource/:id/:nested', post)\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/router/singular.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/singular.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/router/singular.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/router/singular.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
        "sourceFileName": "singular.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst write = require('./write');\n\nconst getFullURL = require('./get-full-url');\n\nconst delay = require('./delay');\n\nmodule.exports = (db, name, opts) => {\n  const router = express.Router();\n  router.use(delay);\n\n  function show(req, res, next) {\n    res.locals.data = db.get(name).value();\n    next();\n  }\n\n  function create(req, res, next) {\n    if (opts._isFake) {\n      res.locals.data = req.body;\n    } else {\n      db.set(name, req.body).value();\n      res.locals.data = db.get(name).value();\n    }\n\n    res.setHeader('Access-Control-Expose-Headers', 'Location');\n    res.location(`${getFullURL(req)}`);\n    res.status(201);\n    next();\n  }\n\n  function update(req, res, next) {\n    if (opts._isFake) {\n      if (req.method === 'PUT') {\n        res.locals.data = req.body;\n      } else {\n        const resource = db.get(name).value();\n        res.locals.data = { ...resource,\n          ...req.body\n        };\n      }\n    } else {\n      if (req.method === 'PUT') {\n        db.set(name, req.body).value();\n      } else {\n        db.get(name).assign(req.body).value();\n      }\n\n      res.locals.data = db.get(name).value();\n    }\n\n    next();\n  }\n\n  const w = write(db);\n  router.route('/').get(show).post(create, w).put(update, w).patch(update, w);\n  return router;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpbmd1bGFyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwid3JpdGUiLCJnZXRGdWxsVVJMIiwiZGVsYXkiLCJtb2R1bGUiLCJleHBvcnRzIiwiZGIiLCJuYW1lIiwib3B0cyIsInJvdXRlciIsIlJvdXRlciIsInVzZSIsInNob3ciLCJyZXEiLCJyZXMiLCJuZXh0IiwibG9jYWxzIiwiZGF0YSIsImdldCIsInZhbHVlIiwiY3JlYXRlIiwiX2lzRmFrZSIsImJvZHkiLCJzZXQiLCJzZXRIZWFkZXIiLCJsb2NhdGlvbiIsInN0YXR1cyIsInVwZGF0ZSIsIm1ldGhvZCIsInJlc291cmNlIiwiYXNzaWduIiwidyIsInJvdXRlIiwicG9zdCIsInB1dCIsInBhdGNoIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLFNBQUQsQ0FBckI7O0FBQ0EsTUFBTUUsVUFBVSxHQUFHRixPQUFPLENBQUMsZ0JBQUQsQ0FBMUI7O0FBQ0EsTUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFFQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLEVBQUQsRUFBS0MsSUFBTCxFQUFXQyxJQUFYLEtBQW9CO0FBQ25DLFFBQU1DLE1BQU0sR0FBR1YsT0FBTyxDQUFDVyxNQUFSLEVBQWY7QUFDQUQsRUFBQUEsTUFBTSxDQUFDRSxHQUFQLENBQVdSLEtBQVg7O0FBRUEsV0FBU1MsSUFBVCxDQUFjQyxHQUFkLEVBQW1CQyxHQUFuQixFQUF3QkMsSUFBeEIsRUFBOEI7QUFDNUJELElBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXQyxJQUFYLEdBQWtCWCxFQUFFLENBQUNZLEdBQUgsQ0FBT1gsSUFBUCxFQUFhWSxLQUFiLEVBQWxCO0FBQ0FKLElBQUFBLElBQUk7QUFDTDs7QUFFRCxXQUFTSyxNQUFULENBQWdCUCxHQUFoQixFQUFxQkMsR0FBckIsRUFBMEJDLElBQTFCLEVBQWdDO0FBQzlCLFFBQUlQLElBQUksQ0FBQ2EsT0FBVCxFQUFrQjtBQUNoQlAsTUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdDLElBQVgsR0FBa0JKLEdBQUcsQ0FBQ1MsSUFBdEI7QUFDRCxLQUZELE1BRU87QUFDTGhCLE1BQUFBLEVBQUUsQ0FBQ2lCLEdBQUgsQ0FBT2hCLElBQVAsRUFBYU0sR0FBRyxDQUFDUyxJQUFqQixFQUF1QkgsS0FBdkI7QUFDQUwsTUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdDLElBQVgsR0FBa0JYLEVBQUUsQ0FBQ1ksR0FBSCxDQUFPWCxJQUFQLEVBQWFZLEtBQWIsRUFBbEI7QUFDRDs7QUFFREwsSUFBQUEsR0FBRyxDQUFDVSxTQUFKLENBQWMsK0JBQWQsRUFBK0MsVUFBL0M7QUFDQVYsSUFBQUEsR0FBRyxDQUFDVyxRQUFKLENBQWMsR0FBRXZCLFVBQVUsQ0FBQ1csR0FBRCxDQUFNLEVBQWhDO0FBRUFDLElBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLEdBQVg7QUFDQVgsSUFBQUEsSUFBSTtBQUNMOztBQUVELFdBQVNZLE1BQVQsQ0FBZ0JkLEdBQWhCLEVBQXFCQyxHQUFyQixFQUEwQkMsSUFBMUIsRUFBZ0M7QUFDOUIsUUFBSVAsSUFBSSxDQUFDYSxPQUFULEVBQWtCO0FBQ2hCLFVBQUlSLEdBQUcsQ0FBQ2UsTUFBSixLQUFlLEtBQW5CLEVBQTBCO0FBQ3hCZCxRQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBV0MsSUFBWCxHQUFrQkosR0FBRyxDQUFDUyxJQUF0QjtBQUNELE9BRkQsTUFFTztBQUNMLGNBQU1PLFFBQVEsR0FBR3ZCLEVBQUUsQ0FBQ1ksR0FBSCxDQUFPWCxJQUFQLEVBQWFZLEtBQWIsRUFBakI7QUFDQUwsUUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdDLElBQVgsR0FBa0IsRUFBRSxHQUFHWSxRQUFMO0FBQWUsYUFBR2hCLEdBQUcsQ0FBQ1M7QUFBdEIsU0FBbEI7QUFDRDtBQUNGLEtBUEQsTUFPTztBQUNMLFVBQUlULEdBQUcsQ0FBQ2UsTUFBSixLQUFlLEtBQW5CLEVBQTBCO0FBQ3hCdEIsUUFBQUEsRUFBRSxDQUFDaUIsR0FBSCxDQUFPaEIsSUFBUCxFQUFhTSxHQUFHLENBQUNTLElBQWpCLEVBQXVCSCxLQUF2QjtBQUNELE9BRkQsTUFFTztBQUNMYixRQUFBQSxFQUFFLENBQUNZLEdBQUgsQ0FBT1gsSUFBUCxFQUFhdUIsTUFBYixDQUFvQmpCLEdBQUcsQ0FBQ1MsSUFBeEIsRUFBOEJILEtBQTlCO0FBQ0Q7O0FBRURMLE1BQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXQyxJQUFYLEdBQWtCWCxFQUFFLENBQUNZLEdBQUgsQ0FBT1gsSUFBUCxFQUFhWSxLQUFiLEVBQWxCO0FBQ0Q7O0FBRURKLElBQUFBLElBQUk7QUFDTDs7QUFFRCxRQUFNZ0IsQ0FBQyxHQUFHOUIsS0FBSyxDQUFDSyxFQUFELENBQWY7QUFFQUcsRUFBQUEsTUFBTSxDQUFDdUIsS0FBUCxDQUFhLEdBQWIsRUFBa0JkLEdBQWxCLENBQXNCTixJQUF0QixFQUE0QnFCLElBQTVCLENBQWlDYixNQUFqQyxFQUF5Q1csQ0FBekMsRUFBNENHLEdBQTVDLENBQWdEUCxNQUFoRCxFQUF3REksQ0FBeEQsRUFBMkRJLEtBQTNELENBQWlFUixNQUFqRSxFQUF5RUksQ0FBekU7QUFFQSxTQUFPdEIsTUFBUDtBQUNELENBbEREIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXJpbmFtYXJpbmEvRGVza3RvcC90ZXN0aW5nL3NlcnZlci9zcmMvc2VydmVyL3JvdXRlci8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXG5jb25zdCB3cml0ZSA9IHJlcXVpcmUoJy4vd3JpdGUnKVxuY29uc3QgZ2V0RnVsbFVSTCA9IHJlcXVpcmUoJy4vZ2V0LWZ1bGwtdXJsJylcbmNvbnN0IGRlbGF5ID0gcmVxdWlyZSgnLi9kZWxheScpXG5cbm1vZHVsZS5leHBvcnRzID0gKGRiLCBuYW1lLCBvcHRzKSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcbiAgcm91dGVyLnVzZShkZWxheSlcblxuICBmdW5jdGlvbiBzaG93KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVzLmxvY2Fscy5kYXRhID0gZGIuZ2V0KG5hbWUpLnZhbHVlKClcbiAgICBuZXh0KClcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIGlmIChvcHRzLl9pc0Zha2UpIHtcbiAgICAgIHJlcy5sb2NhbHMuZGF0YSA9IHJlcS5ib2R5XG4gICAgfSBlbHNlIHtcbiAgICAgIGRiLnNldChuYW1lLCByZXEuYm9keSkudmFsdWUoKVxuICAgICAgcmVzLmxvY2Fscy5kYXRhID0gZGIuZ2V0KG5hbWUpLnZhbHVlKClcbiAgICB9XG5cbiAgICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1FeHBvc2UtSGVhZGVycycsICdMb2NhdGlvbicpXG4gICAgcmVzLmxvY2F0aW9uKGAke2dldEZ1bGxVUkwocmVxKX1gKVxuXG4gICAgcmVzLnN0YXR1cygyMDEpXG4gICAgbmV4dCgpXG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBpZiAob3B0cy5faXNGYWtlKSB7XG4gICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICAgICAgcmVzLmxvY2Fscy5kYXRhID0gcmVxLmJvZHlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlc291cmNlID0gZGIuZ2V0KG5hbWUpLnZhbHVlKClcbiAgICAgICAgcmVzLmxvY2Fscy5kYXRhID0geyAuLi5yZXNvdXJjZSwgLi4ucmVxLmJvZHkgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICAgICAgZGIuc2V0KG5hbWUsIHJlcS5ib2R5KS52YWx1ZSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYi5nZXQobmFtZSkuYXNzaWduKHJlcS5ib2R5KS52YWx1ZSgpXG4gICAgICB9XG5cbiAgICAgIHJlcy5sb2NhbHMuZGF0YSA9IGRiLmdldChuYW1lKS52YWx1ZSgpXG4gICAgfVxuXG4gICAgbmV4dCgpXG4gIH1cblxuICBjb25zdCB3ID0gd3JpdGUoZGIpXG5cbiAgcm91dGVyLnJvdXRlKCcvJykuZ2V0KHNob3cpLnBvc3QoY3JlYXRlLCB3KS5wdXQodXBkYXRlLCB3KS5wYXRjaCh1cGRhdGUsIHcpXG5cbiAgcmV0dXJuIHJvdXRlclxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "singular.js"
      ],
      "names": [
        "express",
        "require",
        "write",
        "getFullURL",
        "delay",
        "module",
        "exports",
        "db",
        "name",
        "opts",
        "router",
        "Router",
        "use",
        "show",
        "req",
        "res",
        "next",
        "locals",
        "data",
        "get",
        "value",
        "create",
        "_isFake",
        "body",
        "set",
        "setHeader",
        "location",
        "status",
        "update",
        "method",
        "resource",
        "assign",
        "w",
        "route",
        "post",
        "put",
        "patch"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/router/",
      "sourcesContent": [
        "const express = require('express')\nconst write = require('./write')\nconst getFullURL = require('./get-full-url')\nconst delay = require('./delay')\n\nmodule.exports = (db, name, opts) => {\n  const router = express.Router()\n  router.use(delay)\n\n  function show(req, res, next) {\n    res.locals.data = db.get(name).value()\n    next()\n  }\n\n  function create(req, res, next) {\n    if (opts._isFake) {\n      res.locals.data = req.body\n    } else {\n      db.set(name, req.body).value()\n      res.locals.data = db.get(name).value()\n    }\n\n    res.setHeader('Access-Control-Expose-Headers', 'Location')\n    res.location(`${getFullURL(req)}`)\n\n    res.status(201)\n    next()\n  }\n\n  function update(req, res, next) {\n    if (opts._isFake) {\n      if (req.method === 'PUT') {\n        res.locals.data = req.body\n      } else {\n        const resource = db.get(name).value()\n        res.locals.data = { ...resource, ...req.body }\n      }\n    } else {\n      if (req.method === 'PUT') {\n        db.set(name, req.body).value()\n      } else {\n        db.get(name).assign(req.body).value()\n      }\n\n      res.locals.data = db.get(name).value()\n    }\n\n    next()\n  }\n\n  const w = write(db)\n\n  router.route('/').get(show).post(create, w).put(update, w).patch(update, w)\n\n  return router\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/mixins.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/mixins.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/mixins.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/mixins.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
        "sourceFileName": "mixins.js"
      }
    },
    "ast": null,
    "code": "const {\n  nanoid\n} = require('nanoid');\n\nconst pluralize = require('pluralize');\n\nmodule.exports = {\n  getRemovable,\n  createId,\n  deepQuery\n}; // Returns document ids that have unsatisfied relations\n// Example: a comment that references a post that doesn't exist\n\nfunction getRemovable(db, opts) {\n  const _ = this;\n\n  const removable = [];\n\n  _.each(db, (coll, collName) => {\n    _.each(coll, doc => {\n      _.each(doc, (value, key) => {\n        if (new RegExp(`${opts.foreignKeySuffix}$`).test(key)) {\n          // Remove foreign key suffix and pluralize it\n          // Example postId -> posts\n          const refName = pluralize.plural(key.replace(new RegExp(`${opts.foreignKeySuffix}$`), '')); // Test if table exists\n\n          if (db[refName]) {\n            // Test if references is defined in table\n            const ref = _.getById(db[refName], value);\n\n            if (_.isUndefined(ref)) {\n              removable.push({\n                name: collName,\n                id: doc.id\n              });\n            }\n          }\n        }\n      });\n    });\n  });\n\n  return removable;\n} // Return incremented id or uuid\n// Used to override lodash-id's createId with utils.createId\n\n\nfunction createId(coll) {\n  const _ = this;\n\n  const idProperty = _.__id();\n\n  if (_.isEmpty(coll)) {\n    return 1;\n  } else {\n    let id = _(coll).maxBy(idProperty)[idProperty]; // Increment integer id or generate string id\n\n\n    return _.isFinite(id) ? ++id : nanoid(7);\n  }\n}\n\nfunction deepQuery(value, q) {\n  const _ = this;\n\n  if (value && q) {\n    if (_.isArray(value)) {\n      for (let i = 0; i < value.length; i++) {\n        if (_.deepQuery(value[i], q)) {\n          return true;\n        }\n      }\n    } else if (_.isObject(value) && !_.isArray(value)) {\n      for (const k in value) {\n        if (_.deepQuery(value[k], q)) {\n          return true;\n        }\n      }\n    } else if (value.toString().toLowerCase().indexOf(q) !== -1) {\n      return true;\n    }\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1peGlucy5qcyJdLCJuYW1lcyI6WyJuYW5vaWQiLCJyZXF1aXJlIiwicGx1cmFsaXplIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldFJlbW92YWJsZSIsImNyZWF0ZUlkIiwiZGVlcFF1ZXJ5IiwiZGIiLCJvcHRzIiwiXyIsInJlbW92YWJsZSIsImVhY2giLCJjb2xsIiwiY29sbE5hbWUiLCJkb2MiLCJ2YWx1ZSIsImtleSIsIlJlZ0V4cCIsImZvcmVpZ25LZXlTdWZmaXgiLCJ0ZXN0IiwicmVmTmFtZSIsInBsdXJhbCIsInJlcGxhY2UiLCJyZWYiLCJnZXRCeUlkIiwiaXNVbmRlZmluZWQiLCJwdXNoIiwibmFtZSIsImlkIiwiaWRQcm9wZXJ0eSIsIl9faWQiLCJpc0VtcHR5IiwibWF4QnkiLCJpc0Zpbml0ZSIsInEiLCJpc0FycmF5IiwiaSIsImxlbmd0aCIsImlzT2JqZWN0IiwiayIsInRvU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBYUMsT0FBTyxDQUFDLFFBQUQsQ0FBMUI7O0FBQ0EsTUFBTUMsU0FBUyxHQUFHRCxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZDLEVBQUFBLFlBRGU7QUFFZkMsRUFBQUEsUUFGZTtBQUdmQyxFQUFBQTtBQUhlLENBQWpCLEMsQ0FNQTtBQUNBOztBQUNBLFNBQVNGLFlBQVQsQ0FBc0JHLEVBQXRCLEVBQTBCQyxJQUExQixFQUFnQztBQUM5QixRQUFNQyxDQUFDLEdBQUcsSUFBVjs7QUFDQSxRQUFNQyxTQUFTLEdBQUcsRUFBbEI7O0FBQ0FELEVBQUFBLENBQUMsQ0FBQ0UsSUFBRixDQUFPSixFQUFQLEVBQVcsQ0FBQ0ssSUFBRCxFQUFPQyxRQUFQLEtBQW9CO0FBQzdCSixJQUFBQSxDQUFDLENBQUNFLElBQUYsQ0FBT0MsSUFBUCxFQUFjRSxHQUFELElBQVM7QUFDcEJMLE1BQUFB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LENBQW5ELEVBQXNEO0FBQzNELGFBQU8sSUFBUDtBQUNEO0FBQ0Y7QUFDRiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFyaW5hbWFyaW5hL0Rlc2t0b3AvdGVzdGluZy9zZXJ2ZXIvc3JjL3NlcnZlci8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IG5hbm9pZCB9ID0gcmVxdWlyZSgnbmFub2lkJylcbmNvbnN0IHBsdXJhbGl6ZSA9IHJlcXVpcmUoJ3BsdXJhbGl6ZScpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRSZW1vdmFibGUsXG4gIGNyZWF0ZUlkLFxuICBkZWVwUXVlcnksXG59XG5cbi8vIFJldHVybnMgZG9jdW1lbnQgaWRzIHRoYXQgaGF2ZSB1bnNhdGlzZmllZCByZWxhdGlvbnNcbi8vIEV4YW1wbGU6IGEgY29tbWVudCB0aGF0IHJlZmVyZW5jZXMgYSBwb3N0IHRoYXQgZG9lc24ndCBleGlzdFxuZnVuY3Rpb24gZ2V0UmVtb3ZhYmxlKGRiLCBvcHRzKSB7XG4gIGNvbnN0IF8gPSB0aGlzXG4gIGNvbnN0IHJlbW92YWJsZSA9IFtdXG4gIF8uZWFjaChkYiwgKGNvbGwsIGNvbGxOYW1lKSA9PiB7XG4gICAgXy5lYWNoKGNvbGwsIChkb2MpID0+IHtcbiAgICAgIF8uZWFjaChkb2MsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIGlmIChuZXcgUmVnRXhwKGAke29wdHMuZm9yZWlnbktleVN1ZmZpeH0kYCkudGVzdChrZXkpKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIGZvcmVpZ24ga2V5IHN1ZmZpeCBhbmQgcGx1cmFsaXplIGl0XG4gICAgICAgICAgLy8gRXhhbXBsZSBwb3N0SWQgLT4gcG9zdHNcbiAgICAgICAgICBjb25zdCByZWZOYW1lID0gcGx1cmFsaXplLnBsdXJhbChcbiAgICAgICAgICAgIGtleS5yZXBsYWNlKG5ldyBSZWdFeHAoYCR7b3B0cy5mb3JlaWduS2V5U3VmZml4fSRgKSwgJycpXG4gICAgICAgICAgKVxuICAgICAgICAgIC8vIFRlc3QgaWYgdGFibGUgZXhpc3RzXG4gICAgICAgICAgaWYgKGRiW3JlZk5hbWVdKSB7XG4gICAgICAgICAgICAvLyBUZXN0IGlmIHJlZmVyZW5jZXMgaXMgZGVmaW5lZCBpbiB0YWJsZVxuICAgICAgICAgICAgY29uc3QgcmVmID0gXy5nZXRCeUlkKGRiW3JlZk5hbWVdLCB2YWx1ZSlcbiAgICAgICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKHJlZikpIHtcbiAgICAgICAgICAgICAgcmVtb3ZhYmxlLnB1c2goeyBuYW1lOiBjb2xsTmFtZSwgaWQ6IGRvYy5pZCB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIHJldHVybiByZW1vdmFibGVcbn1cblxuLy8gUmV0dXJuIGluY3JlbWVudGVkIGlkIG9yIHV1aWRcbi8vIFVzZWQgdG8gb3ZlcnJpZGUgbG9kYXNoLWlkJ3MgY3JlYXRlSWQgd2l0aCB1dGlscy5jcmVhdGVJZFxuZnVuY3Rpb24gY3JlYXRlSWQoY29sbCkge1xuICBjb25zdCBfID0gdGhpc1xuICBjb25zdCBpZFByb3BlcnR5ID0gXy5fX2lkKClcbiAgaWYgKF8uaXNFbXB0eShjb2xsKSkge1xuICAgIHJldHVybiAxXG4gIH0gZWxzZSB7XG4gICAgbGV0IGlkID0gXyhjb2xsKS5tYXhCeShpZFByb3BlcnR5KVtpZFByb3BlcnR5XVxuXG4gICAgLy8gSW5jcmVtZW50IGludGVnZXIgaWQgb3IgZ2VuZXJhdGUgc3RyaW5nIGlkXG4gICAgcmV0dXJuIF8uaXNGaW5pdGUoaWQpID8gKytpZCA6IG5hbm9pZCg3KVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlZXBRdWVyeSh2YWx1ZSwgcSkge1xuICBjb25zdCBfID0gdGhpc1xuICBpZiAodmFsdWUgJiYgcSkge1xuICAgIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChfLmRlZXBRdWVyeSh2YWx1ZVtpXSwgcSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChfLmlzT2JqZWN0KHZhbHVlKSAmJiAhXy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgZm9yIChjb25zdCBrIGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChfLmRlZXBRdWVyeSh2YWx1ZVtrXSwgcSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "mixins.js"
      ],
      "names": [
        "nanoid",
        "require",
        "pluralize",
        "module",
        "exports",
        "getRemovable",
        "createId",
        "deepQuery",
        "db",
        "opts",
        "_",
        "removable",
        "each",
        "coll",
        "collName",
        "doc",
        "value",
        "key",
        "RegExp",
        "foreignKeySuffix",
        "test",
        "refName",
        "plural",
        "replace",
        "ref",
        "getById",
        "isUndefined",
        "push",
        "name",
        "id",
        "idProperty",
        "__id",
        "isEmpty",
        "maxBy",
        "isFinite",
        "q",
        "isArray",
        "i",
        "length",
        "isObject",
        "k",
        "toString",
        "toLowerCase",
        "indexOf"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "sourcesContent": [
        "const { nanoid } = require('nanoid')\nconst pluralize = require('pluralize')\n\nmodule.exports = {\n  getRemovable,\n  createId,\n  deepQuery,\n}\n\n// Returns document ids that have unsatisfied relations\n// Example: a comment that references a post that doesn't exist\nfunction getRemovable(db, opts) {\n  const _ = this\n  const removable = []\n  _.each(db, (coll, collName) => {\n    _.each(coll, (doc) => {\n      _.each(doc, (value, key) => {\n        if (new RegExp(`${opts.foreignKeySuffix}$`).test(key)) {\n          // Remove foreign key suffix and pluralize it\n          // Example postId -> posts\n          const refName = pluralize.plural(\n            key.replace(new RegExp(`${opts.foreignKeySuffix}$`), '')\n          )\n          // Test if table exists\n          if (db[refName]) {\n            // Test if references is defined in table\n            const ref = _.getById(db[refName], value)\n            if (_.isUndefined(ref)) {\n              removable.push({ name: collName, id: doc.id })\n            }\n          }\n        }\n      })\n    })\n  })\n\n  return removable\n}\n\n// Return incremented id or uuid\n// Used to override lodash-id's createId with utils.createId\nfunction createId(coll) {\n  const _ = this\n  const idProperty = _.__id()\n  if (_.isEmpty(coll)) {\n    return 1\n  } else {\n    let id = _(coll).maxBy(idProperty)[idProperty]\n\n    // Increment integer id or generate string id\n    return _.isFinite(id) ? ++id : nanoid(7)\n  }\n}\n\nfunction deepQuery(value, q) {\n  const _ = this\n  if (value && q) {\n    if (_.isArray(value)) {\n      for (let i = 0; i < value.length; i++) {\n        if (_.deepQuery(value[i], q)) {\n          return true\n        }\n      }\n    } else if (_.isObject(value) && !_.isArray(value)) {\n      for (const k in value) {\n        if (_.deepQuery(value[k], q)) {\n          return true\n        }\n      }\n    } else if (value.toString().toLowerCase().indexOf(q) !== -1) {\n      return true\n    }\n  }\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/marinamarina/Desktop/testing/server/src/server/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/marinamarina/Desktop/testing/server\",\"filename\":\"/Users/marinamarina/Desktop/testing/server/src/server/rewriter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/marinamarina/Desktop/testing/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.14.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/marinamarina/Desktop/testing/server",
      "filename": "/Users/marinamarina/Desktop/testing/server/src/server/rewriter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/marinamarina/Desktop/testing/server",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/marinamarina/Desktop/testing/server/src/server/rewriter.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/marinamarina/Desktop/testing/server/src/server/rewriter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
        "sourceFileName": "rewriter.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst rewrite = require('express-urlrewrite');\n\nmodule.exports = routes => {\n  const router = express.Router();\n  router.get('/__rules', (req, res) => {\n    res.json(routes);\n  });\n  Object.keys(routes).forEach(key => {\n    router.use(rewrite(key, routes[key]));\n  });\n  return router;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJld3JpdGVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicmV3cml0ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyb3V0ZXMiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJqc29uIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJ1c2UiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsb0JBQUQsQ0FBdkI7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsTUFBRCxJQUFZO0FBQzNCLFFBQU1DLE1BQU0sR0FBR04sT0FBTyxDQUFDTyxNQUFSLEVBQWY7QUFFQUQsRUFBQUEsTUFBTSxDQUFDRSxHQUFQLENBQVcsVUFBWCxFQUF1QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNuQ0EsSUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVNOLE1BQVQ7QUFDRCxHQUZEO0FBSUFPLEVBQUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZUixNQUFaLEVBQW9CUyxPQUFwQixDQUE2QkMsR0FBRCxJQUFTO0FBQ25DVCxJQUFBQSxNQUFNLENBQUNVLEdBQVAsQ0FBV2QsT0FBTyxDQUFDYSxHQUFELEVBQU1WLE1BQU0sQ0FBQ1UsR0FBRCxDQUFaLENBQWxCO0FBQ0QsR0FGRDtBQUlBLFNBQU9ULE1BQVA7QUFDRCxDQVpEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXJpbmFtYXJpbmEvRGVza3RvcC90ZXN0aW5nL3NlcnZlci9zcmMvc2VydmVyLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcbmNvbnN0IHJld3JpdGUgPSByZXF1aXJlKCdleHByZXNzLXVybHJld3JpdGUnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChyb3V0ZXMpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxuXG4gIHJvdXRlci5nZXQoJy9fX3J1bGVzJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmpzb24ocm91dGVzKVxuICB9KVxuXG4gIE9iamVjdC5rZXlzKHJvdXRlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgcm91dGVyLnVzZShyZXdyaXRlKGtleSwgcm91dGVzW2tleV0pKVxuICB9KVxuXG4gIHJldHVybiByb3V0ZXJcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "rewriter.js"
      ],
      "names": [
        "express",
        "require",
        "rewrite",
        "module",
        "exports",
        "routes",
        "router",
        "Router",
        "get",
        "req",
        "res",
        "json",
        "Object",
        "keys",
        "forEach",
        "key",
        "use"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,oBAAD,CAAvB;;AAEAE,MAAM,CAACC,OAAP,GAAkBC,MAAD,IAAY;AAC3B,QAAMC,MAAM,GAAGN,OAAO,CAACO,MAAR,EAAf;AAEAD,EAAAA,MAAM,CAACE,GAAP,CAAW,UAAX,EAAuB,CAACC,GAAD,EAAMC,GAAN,KAAc;AACnCA,IAAAA,GAAG,CAACC,IAAJ,CAASN,MAAT;AACD,GAFD;AAIAO,EAAAA,MAAM,CAACC,IAAP,CAAYR,MAAZ,EAAoBS,OAApB,CAA6BC,GAAD,IAAS;AACnCT,IAAAA,MAAM,CAACU,GAAP,CAAWd,OAAO,CAACa,GAAD,EAAMV,MAAM,CAACU,GAAD,CAAZ,CAAlB;AACD,GAFD;AAIA,SAAOT,MAAP;AACD,CAZD",
      "sourceRoot": "/Users/marinamarina/Desktop/testing/server/src/server/",
      "sourcesContent": [
        "const express = require('express')\nconst rewrite = require('express-urlrewrite')\n\nmodule.exports = (routes) => {\n  const router = express.Router()\n\n  router.get('/__rules', (req, res) => {\n    res.json(routes)\n  })\n\n  Object.keys(routes).forEach((key) => {\n    router.use(rewrite(key, routes[key]))\n  })\n\n  return router\n}\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1642459076000
  }
}